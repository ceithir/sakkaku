{"version":3,"sources":["features/roller/index.module.css","features/roller/Intent.module.css","features/roller/images/black.png","features/roller/images/blackot.png","features/roller/images/blackst.png","features/roller/images/blacket.png","features/roller/images/blacko.png","features/roller/images/blacks.png","features/roller/images/white.png","features/roller/images/whitee.png","features/roller/images/whiteet.png","features/roller/images/whiteo.png","features/roller/images/whites.png","features/roller/images/whiteso.png","features/roller/images/whitest.png","features/navigation/logo.png","features/roller/Intent.js","server.js","features/roller/reducer.js","features/roller/Dice.js","features/roller/Dices.js","features/roller/DicesBox.js","features/roller/Keep.js","features/roller/KeepExplosions.js","features/roller/Kept.js","features/roller/Result.js","features/roller/Distinction.js","features/roller/Adversity.js","features/roller/index.js","features/navigation/Layout.js","App.js","app/store.js","serviceWorker.js","index.js","features/roller/Dices.module.css","features/navigation/Layout.module.css"],"names":["module","exports","TextArea","Input","layout","labelCol","span","wrapperCol","tailLayout","defaultRules","required","message","Intent","completed","onFinish","values","loading","initialValues","data","modifiers","filter","Boolean","Item","label","name","rules","disabled","min","max","valuePropName","Group","Button","value","type","htmlType","className","styles","submit","requestOnServer","a","uri","method","body","success","error","headers","Accept","fetch","JSON","stringify","undefined","response","ok","Error","status","json","console","postOnServer","getOnServer","slice","createSlice","initialState","campaign","character","description","tn","ring","skill","dices","metadata","reducers","softReset","state","setParameters","action","payload","updateDices","setMetadata","setLoading","actions","reroll","roll","positions","modifier","dispatch","parameters","keep","selectAll","getImage","opportunity","strife","explosion","explosionStrifeSkill","explosionSkill","successOpportunitySkill","successStrifeSkill","successSkill","opportunitySkill","blankSkill","strifeExplosionRing","strifeSuccessRing","strifeOpportunityRing","successRing","opportunityRing","blankRing","Dice","dice","text","join","getText","src","alt","title","preview","Dices","length","listData","map","index","key","toString","selectable","selected","toggle","grid","gutter","column","dataSource","renderItem","classNames","unselectable","rerolled","onClick","Paragraph","Typography","DicesBox","footer","Keep","compromised","trulyCompromised","useState","toKeep","setToKeep","canKeep","includes","available","i","KeepExplosions","Kept","Text","Result","count","reduce","acc","target","strong","Distinction","toReroll","setToReroll","Adversity","successDices","Math","Roller","useSelector","useDispatch","dicesRolled","atLeastOneUnresolvedDice","some","keptDices","atLeastOneKeptDice","rerollDone","rerolls","every","voided","request","Header","Layout","Content","Footer","CustomLayout","user","children","theme","mode","logo","href","login","App","setUser","useEffect","_","configureStore","reducer","rollerReducer","window","location","hostname","match","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e2dbbe54.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"roller_layout__2TyHW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submit\":\"Intent_submit__3pMAY\"};","module.exports = __webpack_public_path__ + \"static/media/black.f14fed51.png\";","module.exports = __webpack_public_path__ + \"static/media/blackot.3a5ad7bb.png\";","module.exports = __webpack_public_path__ + \"static/media/blackst.3fad8195.png\";","module.exports = __webpack_public_path__ + \"static/media/blacket.f0ca3076.png\";","module.exports = __webpack_public_path__ + \"static/media/blacko.e44a1dd0.png\";","module.exports = __webpack_public_path__ + \"static/media/blacks.216d4546.png\";","module.exports = __webpack_public_path__ + \"static/media/white.c24c0c51.png\";","module.exports = __webpack_public_path__ + \"static/media/whitee.7755ca79.png\";","module.exports = __webpack_public_path__ + \"static/media/whiteet.d10cd0cc.png\";","module.exports = __webpack_public_path__ + \"static/media/whiteo.1e81fee0.png\";","module.exports = __webpack_public_path__ + \"static/media/whites.7cb9db03.png\";","module.exports = __webpack_public_path__ + \"static/media/whiteso.f76a057b.png\";","module.exports = __webpack_public_path__ + \"static/media/whitest.05051e66.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.20098cc4.png\";","import React from \"react\";\nimport { Form, Input, InputNumber, Button, Radio, Switch, Divider } from \"antd\";\nimport styles from \"./Intent.module.css\";\n\nconst { TextArea } = Input;\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\nconst tailLayout = {\n  labelCol: { span: 0 },\n  wrapperCol: { span: 24 },\n};\n\nconst defaultRules = [{ required: true, message: \"Please fill this field\" }];\n\nconst Intent = ({ completed, onFinish, values, loading }) => {\n  return (\n    <Form\n      {...layout}\n      initialValues={values}\n      onFinish={(data) => {\n        onFinish({\n          ...data,\n          modifiers: [\n            data[\"modifier\"],\n            data[\"compromised\"] && \"compromised\",\n            data[\"void\"] && \"void\",\n          ].filter(Boolean),\n        });\n      }}\n    >\n      <Form.Item label=\"Campaign\" name=\"campaign\" rules={defaultRules}>\n        <Input disabled={completed} />\n      </Form.Item>\n      <Form.Item label=\"Character\" name=\"character\" rules={defaultRules}>\n        <Input disabled={completed} />\n      </Form.Item>\n      <Form.Item label=\"Description\" name=\"description\" rules={defaultRules}>\n        <TextArea disabled={completed} />\n      </Form.Item>\n      <Divider />\n      <Form.Item label=\"TN\" name=\"tn\" rules={defaultRules}>\n        <InputNumber disabled={completed} min={1} />\n      </Form.Item>\n      <Form.Item label=\"Ring\" name=\"ring\" rules={defaultRules}>\n        <InputNumber disabled={completed} min={1} max={5} />\n      </Form.Item>\n      <Form.Item label=\"Skill\" name=\"skill\" rules={defaultRules}>\n        <InputNumber disabled={completed} min={0} max={5} />\n      </Form.Item>\n      <Divider />\n      <Form.Item label=\"Void?\" name=\"void\" valuePropName=\"checked\">\n        <Switch disabled={completed} />\n      </Form.Item>\n      <Form.Item label=\"Advantage / Disadvantage\" name=\"modifier\">\n        <Radio.Group disabled={completed}>\n          <Radio.Button value=\"\">None</Radio.Button>\n          <Radio.Button value=\"distinction\">Distinction</Radio.Button>\n          <Radio.Button value=\"adversity\">Adversity</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item\n        label=\"Compromised?\"\n        name=\"compromised\"\n        valuePropName=\"checked\"\n      >\n        <Switch disabled={completed} />\n      </Form.Item>\n      {!completed && (\n        <>\n          <Divider />\n          <Form.Item {...tailLayout}>\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              className={styles.submit}\n              disabled={loading}\n            >\n              Roll\n            </Button>\n          </Form.Item>\n        </>\n      )}\n    </Form>\n  );\n};\n\nexport default Intent;\n","const serverRoot =\n  process.env.NODE_ENV === \"production\" ? \"/api\" : \"http://127.0.0.1:8000/api\";\n\nconst requestOnServer = async ({ uri, method, body, success, error }) => {\n  const headers = {\n    Accept: \"application/json\",\n  };\n  if (body) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n\n  try {\n    const response = await fetch(`${serverRoot}${uri}`, {\n      method,\n      headers,\n      body: body ? JSON.stringify(body) : undefined,\n    });\n    if (!response.ok) {\n      throw new Error(`Bad status: ${response.status}`);\n    }\n    const data = await response.json();\n    success(data);\n  } catch (e) {\n    error ? error(e) : console.error(e);\n  }\n};\n\nexport const postOnServer = async ({ uri, body, success, error }) => {\n  return requestOnServer({ uri, method: \"POST\", body, success, error });\n};\n\nexport const getOnServer = async ({ uri, success, error }) => {\n  return requestOnServer({ uri, method: \"GET\", success, error });\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { postOnServer } from \"../../server\";\n\nconst initialState = {\n  campaign: \"Test campaign\",\n  character: \"Test character\",\n  description: \"Test roll\",\n  tn: 2,\n  ring: 2,\n  skill: 2,\n  modifiers: [],\n  dices: [],\n  metadata: {},\n  loading: false,\n};\n\nconst slice = createSlice({\n  name: \"roll\",\n  initialState,\n  reducers: {\n    softReset: (state) => {\n      state.dices = [];\n      state.metadata = {};\n    },\n    setParameters: (state, action) => {\n      const {\n        campaign,\n        character,\n        description,\n        tn,\n        ring,\n        skill,\n        modifiers,\n      } = action.payload;\n      state.campaign = campaign;\n      state.character = character;\n      state.character = description;\n      state.tn = tn;\n      state.ring = ring;\n      state.skill = skill;\n      state.modifiers = modifiers;\n    },\n    updateDices: (state, action) => {\n      state.dices = action.payload;\n    },\n    setMetadata: (state, action) => {\n      state.metadata = action.payload;\n    },\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    },\n  },\n});\n\nconst { setParameters, updateDices, setMetadata, setLoading } = slice.actions;\nexport const { softReset } = slice.actions;\n\nexport const create = (request) => (dispatch) => {\n  dispatch(setLoading(true));\n  dispatch(setParameters(request));\n\n  const { tn, ring, skill, modifiers } = request;\n  postOnServer({\n    uri: \"/public/ffg/l5r/rolls/create\",\n    body: {\n      tn,\n      ring,\n      skill,\n      modifiers,\n    },\n    success: (data) => {\n      dispatch(updateDices(data[\"dices\"]));\n      dispatch(setLoading(false));\n    },\n  });\n};\n\nexport const reroll = (roll, positions, modifier) => (dispatch) => {\n  dispatch(setLoading(true));\n  const { tn, ring, skill, modifiers, dices } = roll;\n  postOnServer({\n    uri: \"/public/ffg/l5r/rolls/reroll\",\n    body: {\n      roll: {\n        parameters: { tn, ring, skill, modifiers },\n        dices,\n      },\n      positions,\n      modifier,\n    },\n    success: (data) => {\n      dispatch(updateDices(data[\"dices\"]));\n      dispatch(setMetadata(data[\"metadata\"]));\n      dispatch(setLoading(false));\n    },\n  });\n};\n\nexport const keep = (roll, positions) => (dispatch) => {\n  dispatch(setLoading(true));\n  const { tn, ring, skill, modifiers, dices, metadata } = roll;\n  postOnServer({\n    uri: \"/public/ffg/l5r/rolls/keep\",\n    body: {\n      roll: {\n        parameters: { tn, ring, skill, modifiers },\n        dices,\n        metadata,\n      },\n      positions,\n    },\n    success: (data) => {\n      dispatch(updateDices(data[\"dices\"]));\n      dispatch(setLoading(false));\n    },\n  });\n};\n\nexport const selectAll = (state) => state.roll;\n\nexport default slice.reducer;\n","import React from \"react\";\nimport { Image } from \"antd\";\nimport blankRing from \"./images/black.png\";\nimport strifeOpportunityRing from \"./images/blackot.png\";\nimport strifeSuccessRing from \"./images/blackst.png\";\nimport strifeExplosionRing from \"./images/blacket.png\";\nimport opportunityRing from \"./images/blacko.png\";\nimport successRing from \"./images/blacks.png\";\nimport blankSkill from \"./images/white.png\";\nimport explosionSkill from \"./images/whitee.png\";\nimport explosionStrifeSkill from \"./images/whiteet.png\";\nimport opportunitySkill from \"./images/whiteo.png\";\nimport successSkill from \"./images/whites.png\";\nimport successOpportunitySkill from \"./images/whiteso.png\";\nimport successStrifeSkill from \"./images/whitest.png\";\n\nconst getImage = ({\n  type,\n  value: { opportunity, strife, success, explosion },\n}) => {\n  if (type === \"skill\") {\n    if (explosion) {\n      if (strife) {\n        return explosionStrifeSkill;\n      }\n      return explosionSkill;\n    }\n\n    if (success) {\n      if (opportunity) {\n        return successOpportunitySkill;\n      }\n      if (strife) {\n        return successStrifeSkill;\n      }\n      return successSkill;\n    }\n\n    if (opportunity) {\n      return opportunitySkill;\n    }\n\n    return blankSkill;\n  }\n\n  if (strife) {\n    if (explosion) {\n      return strifeExplosionRing;\n    }\n    if (success) {\n      return strifeSuccessRing;\n    }\n    return strifeOpportunityRing;\n  }\n\n  if (success) {\n    return successRing;\n  }\n  if (opportunity) {\n    return opportunityRing;\n  }\n\n  return blankRing;\n};\n\nconst getText = ({ value: { opportunity, strife, success, explosion } }) => {\n  return (\n    [\n      opportunity && `Opportunity: ${opportunity}`,\n      success && `Success: ${success}`,\n      explosion && `Explosion: ${explosion}`,\n      strife && `Strife: ${strife}`,\n    ]\n      .filter(Boolean)\n      .join(\"; \") || \"Nothing\"\n  );\n};\n\nconst Dice = ({ dice }) => {\n  const text = getText(dice);\n  return <Image src={getImage(dice)} alt={text} title={text} preview={false} />;\n};\n\nexport default Dice;\n","import React from \"react\";\nimport { List } from \"antd\";\nimport styles from \"./Dices.module.css\";\nimport classNames from \"classnames\";\nimport Dice from \"./Dice\";\n\nconst Dices = ({ dices }) => {\n  if (!dices?.length) {\n    return null;\n  }\n\n  const listData = dices.map((dice, index) => {\n    return {\n      key: index.toString(),\n      dice,\n      selectable: dice.selectable,\n      selected: dice.selected,\n      toggle: dice.toggle,\n      disabled: dice.disabled,\n    };\n  });\n\n  return (\n    <List\n      grid={{ gutter: 0, column: 10 }}\n      dataSource={listData}\n      renderItem={({ key, dice, selectable, selected, toggle, disabled }) => (\n        <List.Item\n          key={key}\n          className={classNames(styles.dice, {\n            [styles.selectable]: selectable,\n            [styles.selected]: selected,\n            [styles.unselectable]: disabled,\n            [styles.rerolled]: dice.status === \"rerolled\",\n          })}\n          onClick={selectable ? toggle : undefined}\n        >\n          <Dice dice={dice} />\n        </List.Item>\n      )}\n    />\n  );\n};\n\nexport default Dices;\n","import React from \"react\";\nimport Dices from \"./Dices\";\nimport { Typography } from \"antd\";\n\nconst { Paragraph } = Typography;\n\nconst DicesBox = ({ dices, text, footer }) => {\n  return (\n    <div>\n      <Paragraph>{text}</Paragraph>\n      <Dices dices={dices} />\n      {footer}\n    </div>\n  );\n};\n\nexport default DicesBox;\n","import React, { useState } from \"react\";\nimport DicesBox from \"./DicesBox\";\nimport { Button } from \"antd\";\n\nconst Keep = ({\n  dices,\n  max,\n  onFinish,\n  compromised,\n  trulyCompromised,\n  loading,\n}) => {\n  const [toKeep, setToKeep] = useState([]);\n\n  const canKeep = max > toKeep.length;\n  const toggle = (index) => {\n    if (toKeep.includes(index)) {\n      return setToKeep(toKeep.filter((i) => i !== index));\n    }\n    return setToKeep([...toKeep, index]);\n  };\n  const text = trulyCompromised\n    ? \"You cannot keep any dice due to being compromised.\"\n    : `You can choose up to ${max} dice${max > 1 ? \"s\" : \"\"} to keep (min 1).`;\n\n  return (\n    <DicesBox\n      text={text}\n      dices={dices.map((dice, index) => {\n        const selected = toKeep.includes(index);\n        const available =\n          dice.status === \"pending\" && (!compromised || !dice.value.strife);\n        const selectable = (selected || canKeep) && available;\n        return {\n          ...dice,\n          selectable,\n          selected,\n          disabled: !selectable,\n          toggle: () => toggle(index),\n        };\n      })}\n      footer={\n        (toKeep.length >= 1 || trulyCompromised) && (\n          <Button\n            type=\"primary\"\n            onClick={() => onFinish(toKeep)}\n            disabled={loading}\n          >\n            Continue\n          </Button>\n        )\n      }\n    />\n  );\n};\n\nexport default Keep;\n","import React, { useState } from \"react\";\nimport DicesBox from \"./DicesBox\";\nimport { Button } from \"antd\";\n\nconst KeepExplosions = ({ dices, onFinish, compromised, loading }) => {\n  const [toKeep, setToKeep] = useState([]);\n  const toggle = (index) => {\n    if (toKeep.includes(index)) {\n      return setToKeep(toKeep.filter((i) => i !== index));\n    }\n    return setToKeep([...toKeep, index]);\n  };\n\n  return (\n    <DicesBox\n      text={`Select which explosions you wish to keep (if any):`}\n      dices={dices.map((dice, index) => {\n        const available =\n          dice.status === \"pending\" && (!compromised || !dice.value.strife);\n\n        return {\n          ...dice,\n          selectable: available,\n          selected: dice.status === \"kept\" || toKeep.includes(index),\n          disabled: !available && dice.status !== \"kept\",\n          toggle: () => toggle(index),\n        };\n      })}\n      footer={\n        <Button\n          type=\"primary\"\n          onClick={() => onFinish(toKeep)}\n          disabled={loading}\n        >\n          Continue\n        </Button>\n      }\n    />\n  );\n};\n\nexport default KeepExplosions;\n","import React from \"react\";\nimport DicesBox from \"./DicesBox\";\n\nconst Kept = ({ dices, trulyCompromised }) => {\n  const text = trulyCompromised\n    ? \"You couldn't keep any dice due to being compromised.\"\n    : \"You have kept:\";\n\n  return (\n    <DicesBox\n      text={text}\n      dices={dices.map((dice) => {\n        const selected = dice.status === \"kept\";\n        return {\n          ...dice,\n          disabled: !selected,\n          selected,\n        };\n      })}\n    />\n  );\n};\n\nexport default Kept;\n","import React from \"react\";\nimport { Typography, List } from \"antd\";\n\nconst { Text } = Typography;\n\nconst Result = ({ dices, tn }) => {\n  const data = [\n    {\n      type: \"Successes\",\n      count: dices.reduce(\n        (acc, dice) =>\n          acc + (dice.value.explosion || 0) + (dice.value.success || 0),\n        0\n      ),\n      target: tn,\n    },\n    {\n      type: \"Strifes\",\n      count: dices.reduce((acc, dice) => acc + (dice.value.strife || 0), 0),\n    },\n    {\n      type: \"Opportunities\",\n      count: dices.reduce(\n        (acc, dice) => acc + (dice.value.opportunity || 0),\n        0\n      ),\n    },\n  ];\n\n  return (\n    <List\n      grid={{ gutter: 16, column: 3 }}\n      dataSource={data}\n      renderItem={({ type, count, target }) => (\n        <List.Item>\n          <Text\n            strong\n            type={target && (count >= target ? \"success\" : \"warning\")}\n          >{`${type}: ${count}`}</Text>\n          {target && <Text>{` (required: ${target})`}</Text>}\n        </List.Item>\n      )}\n    />\n  );\n};\n\nexport default Result;\n","import React, { useState } from \"react\";\nimport DicesBox from \"./DicesBox\";\nimport { Button } from \"antd\";\n\nconst Distinction = ({ dices, onFinish, loading }) => {\n  const [toReroll, setToReroll] = useState([]);\n  const max = 2;\n  const toggle = (index) => {\n    if (toReroll.includes(index)) {\n      return setToReroll(toReroll.filter((i) => i !== index));\n    }\n    return setToReroll([...toReroll, index]);\n  };\n\n  return (\n    <DicesBox\n      text={`You can choose up to ${max} dices to reroll.`}\n      dices={dices.map((dice, index) => {\n        const selected = toReroll.includes(index);\n        const selectable = selected || toReroll.length < max;\n        return {\n          ...dice,\n          selectable,\n          selected,\n          disabled: !selectable,\n          toggle: () => toggle(index),\n        };\n      })}\n      footer={\n        <Button\n          type=\"primary\"\n          onClick={() => onFinish(toReroll)}\n          disabled={loading}\n        >\n          Continue\n        </Button>\n      }\n    />\n  );\n};\n\nexport default Distinction;\n","import React, { useState } from \"react\";\nimport DicesBox from \"./DicesBox\";\nimport { Button } from \"antd\";\n\nconst Adversity = ({ dices, onFinish, loading }) => {\n  const [toReroll, setToReroll] = useState([]);\n  const successDices = dices.filter(\n    ({ value }) => value.success || value.explosion\n  );\n  const max = 2;\n  const min = Math.min(max, successDices.length);\n  const toggle = (index) => {\n    if (toReroll.includes(index)) {\n      return setToReroll(toReroll.filter((i) => i !== index));\n    }\n    return setToReroll([...toReroll, index]);\n  };\n\n  return (\n    <DicesBox\n      text={`You must reroll two success dices (if possible).`}\n      dices={dices.map((dice, index) => {\n        const selected = toReroll.includes(index);\n        const isSuccess = dice.value.success || dice.value.explosion;\n        const selectable = isSuccess && (selected || toReroll.length < max);\n        return {\n          ...dice,\n          selectable,\n          selected,\n          disabled: !selectable,\n          toggle: () => toggle(index),\n        };\n      })}\n      footer={\n        toReroll.length >= min && (\n          <Button\n            type=\"primary\"\n            onClick={() => onFinish(toReroll)}\n            disabled={loading}\n          >\n            Continue\n          </Button>\n        )\n      }\n    />\n  );\n};\n\nexport default Adversity;\n","import React from \"react\";\nimport styles from \"./index.module.css\";\nimport Intent from \"./Intent\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectAll, create, softReset, keep, reroll } from \"./reducer\";\nimport { Button, Card } from \"antd\";\nimport Keep from \"./Keep\";\nimport KeepExplosions from \"./KeepExplosions\";\nimport Kept from \"./Kept\";\nimport Result from \"./Result\";\nimport Distinction from \"./Distinction\";\nimport Adversity from \"./Adversity\";\n\nconst Roller = () => {\n  const roll = useSelector(selectAll);\n  const dispatch = useDispatch();\n\n  const { dices, tn, metadata, modifiers, ring, loading } = roll;\n\n  const dicesRolled = dices.length > 0;\n  const atLeastOneUnresolvedDice =\n    dicesRolled && dices.some((dice) => dice.status === \"pending\");\n  const keptDices = dices.filter((dice) => dice.status === \"kept\");\n  const atLeastOneKeptDice = keptDices.length > 0;\n  const rerollDone =\n    metadata?.rerolls?.length ||\n    !(modifiers.includes(\"adversity\") || modifiers.includes(\"distinction\"));\n  const compromised = modifiers.includes(\"compromised\");\n  const trulyCompromised =\n    compromised &&\n    dicesRolled &&\n    rerollDone &&\n    !atLeastOneKeptDice &&\n    dices\n      .filter((dice) => dice.status === \"pending\")\n      .every((dice) => dice.value.strife);\n  const voided = modifiers.includes(\"void\");\n\n  return (\n    <div className={styles.layout}>\n      <Card>\n        <Intent\n          completed={dicesRolled}\n          onFinish={(data) => dispatch(create({ ...roll, ...data }))}\n          values={roll}\n          loading={loading}\n        />\n        {dicesRolled && (\n          <>\n            {!rerollDone && (\n              <>\n                {modifiers.includes(\"distinction\") && (\n                  <Distinction\n                    dices={dices}\n                    onFinish={(positions) =>\n                      dispatch(reroll(roll, positions, \"distinction\"))\n                    }\n                    loading={loading}\n                  />\n                )}\n                {modifiers.includes(\"adversity\") && (\n                  <Adversity\n                    dices={dices}\n                    onFinish={(positions) =>\n                      dispatch(reroll(roll, positions, \"adversity\"))\n                    }\n                    loading={loading}\n                  />\n                )}\n              </>\n            )}\n            {rerollDone && (\n              <>\n                {atLeastOneUnresolvedDice ? (\n                  <>\n                    {!atLeastOneKeptDice && (\n                      <Keep\n                        dices={dices}\n                        max={voided ? ring + 1 : ring}\n                        onFinish={(data) => dispatch(keep(roll, data))}\n                        compromised={compromised}\n                        trulyCompromised={trulyCompromised}\n                        loading={loading}\n                      />\n                    )}\n                    {atLeastOneKeptDice && (\n                      <KeepExplosions\n                        dices={dices}\n                        onFinish={(data) => dispatch(keep(roll, data))}\n                        compromised={compromised}\n                        loading={loading}\n                      />\n                    )}\n                  </>\n                ) : (\n                  <>\n                    <Kept dices={dices} trulyCompromised={trulyCompromised} />\n                    <Result dices={keptDices} tn={tn} />\n                    <Button\n                      type=\"primary\"\n                      onClick={() => dispatch(softReset())}\n                    >\n                      Reroll\n                    </Button>\n                  </>\n                )}\n              </>\n            )}\n          </>\n        )}\n      </Card>\n    </div>\n  );\n};\n\nexport default Roller;\n","import React from \"react\";\nimport { Layout, Menu } from \"antd\";\nimport logo from \"./logo.png\";\nimport styles from \"./Layout.module.css\";\n\nconst { Header, Content, Footer } = Layout;\n\nconst CustomLayout = ({ user, children }) => {\n  return (\n    <Layout className={styles.layout}>\n      <Header>\n        <Menu theme=\"dark\" mode=\"horizontal\">\n          <Menu.Item className={styles.logo}>\n            <a href=\"/\">\n              <img alt=\"Logo\" src={logo} />\n            </a>\n          </Menu.Item>\n          <Menu.Item>\n            <a href=\"/\">Roll</a>\n          </Menu.Item>\n          <Menu.Item className={styles.login}>\n            {user ? (\n              <a href=\"/user/profile\">{user.name}</a>\n            ) : (\n              <a href=\"/login\">Login</a>\n            )}\n          </Menu.Item>\n        </Menu>\n      </Header>\n      <Content>{children}</Content>\n      <Footer className={styles.footer}>\n        {`Sakkaku Project / 2020 / `}\n        <a href=\"mailto:contact.sakkaku@gmail.com\">Issue? Suggestion?</a>\n      </Footer>\n    </Layout>\n  );\n};\n\nexport default CustomLayout;\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Roller from \"./features/roller\";\nimport Layout from \"./features/navigation/Layout\";\nimport { getOnServer } from \"./server\";\n\nconst App = () => {\n  const [user, setUser] = useState();\n  useEffect(() => {\n    getOnServer({\n      uri: \"/user\",\n      success: (data) => {\n        setUser(data);\n      },\n      error: (_) => {},\n    });\n  }, []);\n\n  return (\n    <Layout user={user}>\n      <Roller />\n    </Layout>\n  );\n};\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport rollerReducer from \"../features/roller/reducer\";\n\nexport default configureStore({\n  reducer: {\n    roll: rollerReducer,\n  },\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./app/store\";\nimport { Provider } from \"react-redux\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dice\":\"Dices_dice__cqowQ\",\"selectable\":\"Dices_selectable__2UH3q\",\"selected\":\"Dices_selected__1Gb1I\",\"unselectable\":\"Dices_unselectable__KQSGp\",\"rerolled\":\"Dices_rerolled__2e0qS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__UFIxE\",\"logo\":\"Layout_logo__1Oa8g\",\"footer\":\"Layout_footer__1d2pN\",\"login\":\"Layout_login__2luPa\"};"],"sourceRoot":""}