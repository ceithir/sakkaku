{"version":3,"sources":["features/roller/result/Reroll.module.css","features/roller/result/Resolve.module.css","features/navigation/Layout.module.css","features/browse/List.module.css","features/roller/Keep.module.css","features/roller/index.module.css","features/navigation/Loader.module.css","features/roller/Breadcrumb.module.css","features/roller/Intent.module.css","features/roller/NextButton.module.css","features/roller/Steps.module.css","features/roller/Result.module.css","features/roller/images/black.png","features/roller/images/blackot.png","features/roller/images/blackst.png","features/roller/images/blacket.png","features/roller/images/blacko.png","features/roller/images/blacks.png","features/roller/images/white.png","features/roller/images/whitee.png","features/roller/images/whiteet.png","features/roller/images/whiteo.png","features/roller/images/whites.png","features/roller/images/whiteso.png","features/roller/images/whitest.png","features/navigation/logo.png","features/browse/images/opportunity.png","features/browse/images/strife.png","features/browse/images/success.png","features/browse/Result.module.css","server.js","features/roller/Steps.js","features/roller/reducer.js","features/roller/NextButton.js","features/user/reducer.js","features/roller/Intent.js","features/roller/utils.js","features/roller/Result.js","features/roller/Dice.js","features/roller/Dices.js","features/roller/ExplosionDices.js","features/roller/Keep.js","features/roller/DicesBox.js","features/roller/reroll/Distinction.js","features/roller/reroll/Adversity.js","features/roller/Summary.js","DefaultErrorMessage.js","features/roller/result/Reroll.js","features/roller/result/Keep.js","features/roller/button/BbCode.js","features/roller/button/DirectLink.js","features/roller/result/Resolve.js","features/roller/AnonymousAlert.js","features/roller/index.js","features/navigation/Layout.js","features/browse/Result.js","features/navigation/Loader.js","features/browse/List.js","features/roller/Complete.js","features/roller/Breadcrumb.js","features/roller/IdentifiedRoll.js","App.js","app/store.js","serviceWorker.js","index.js","features/roller/Dices.module.css"],"names":["module","exports","requestOnServer","a","uri","method","body","success","error","headers","Accept","fetch","JSON","stringify","undefined","response","ok","Error","status","json","data","console","postOnServer","getOnServer","authentifiedPostOnServer","decodeURIComponent","document","cookie","match","DECLARE","REROLL","KEEP","RESOLVE","Step","Steps","CustomSteps","current","className","indexOf","classNames","styles","steps","title","description","slice","createSlice","name","initialState","tn","ring","skill","modifiers","dices","metadata","loading","reducers","softReset","state","id","window","history","pushState","setParameters","action","payload","campaign","character","setDices","setMetadata","setLoading","setId","setPlayer","player","setError","setAnimatedStep","animatedStep","actions","reroll","roll","positions","modifier","dispatch","parameters","selectAll","selectLoading","selectStep","dicesRolled","length","atLeastOneUnresolvedDice","some","dice","hasReroll","includes","rerollDone","rerolls","selectIntent","selectHidden","NextButton","children","disabled","props","useSelector","type","button","campaigns","characters","setUser","addCampaign","push","addCharacter","selectUser","user","selectCampaigns","selectCharacters","TextArea","Input","layout","labelCol","span","wrapperCol","tailLayout","defaultRules","required","message","arrayToAutoCompleteOptions","values","map","value","Intent","onFinish","onComplete","useDispatch","form","initialValues","filter","Boolean","scrollToFirstError","Item","label","rules","options","placeholder","min","max","valuePropName","Group","Button","htmlType","AnimatedIntent","useState","completed","setCompleted","hidden","useEffect","scrollTo","top","behavior","Animate","transitionName","transitionEnter","transitionLeave","showProp","onEnd","visible","countDices","keptDices","successCount","reduce","acc","explosion","opportunityCount","opportunity","strifeCount","strife","hideRerolls","isFromReroll","rerollDices","i","reorder","forEach","Text","Typography","Result","extra","index","count","color","grid","gutter","column","dataSource","renderItem","strong","getImage","explosionStrifeSkill","explosionSkill","successOpportunitySkill","successStrifeSkill","successSkill","opportunitySkill","blankSkill","strifeExplosionRing","strifeSuccessRing","strifeOpportunityRing","successRing","opportunityRing","blankRing","valueText","join","statusText","fromReroll","getText","Dice","src","alt","preview","Dices","theme","selectable","selected","toggle","rerolled","key","toString","unselectable","onClick","ExplosionDices","basePool","split","remainingDices","size","currentDices","sort","b","splitExplosions","Fragment","Paragraph","Keep","voided","compromised","toKeep","setToKeep","keepingExplosions","trulyCompromised","every","defaultText","text","figures","DicesBox","footer","bordered","Distinction","toReroll","setToReroll","Adversity","successDices","Math","Summary","special","md","sm","xs","to","DefaultErrorMessage","banner","Title","Reroll","rerollType","level","container","BbCode","shortResult","location","origin","onCopy","DirectLink","Resolve","buttons","Link","AnonymousAlert","showIcon","closable","href","Panel","Collapse","Layout","currentStep","alert","Roller","save","intent","activeKeys","setActiveKeys","panel","PanelContent","keep","activeKey","onChange","header","request","create","Header","Content","Footer","CustomLayout","useLocation","selectedKey","setSelectedKey","pathname","search","getMenuKey","mode","selectedKeys","onSelect","logo","login","result","successImage","opportunityImage","strifeImage","Loader","loader","columns","dataIndex","render","date","Date","toLocaleDateString","time","toLocaleTimeString","hour","minute","second","timeZoneName","queryString","delete","responsive","width","align","List","setData","useHistory","query","parse","page","parseInt","_","items","created_at","see_more","pageLink","pageNumber","pagination","simple","pageSize","total","itemRender","originalElement","Complete","context","defaultActiveKey","CustomBreadcrumb","ellipsis","GoBackButton","goBack","IdentifiedRoll","useParams","Breadcrumb","style","float","App","path","configureStore","reducer","rollerReducer","userReducer","hostname","ReactDOM","StrictMode","store","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.53f8e9c9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Reroll_layout__1ZSoQ\",\"container\":\"Reroll_container__22Gl5\",\"title\":\"Reroll_title__1pQuN\",\"arrow-right\":\"Reroll_arrow-right__30zxm\",\"arrow-down\":\"Reroll_arrow-down__2N_iE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Resolve_layout__6Gw1E\",\"container\":\"Resolve_container__3LORR\",\"buttons\":\"Resolve_buttons__znghB\",\"dices\":\"Resolve_dices__3Mfsg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__UFIxE\",\"logo\":\"Layout_logo__1Oa8g\",\"footer\":\"Layout_footer__1d2pN\",\"login\":\"Layout_login__2luPa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"List_pagination__30JOr\",\"see-more\":\"List_see-more__3H9Sv\",\"time\":\"List_time__3D77V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Keep_layout__3iSnl\",\"figures\":\"Keep_figures__29jyx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alert\":\"roller_alert__a7FQm\",\"steps\":\"roller_steps__37v8v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__3tlr0\",\"loader\":\"Loader_loader__Jgwkb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Breadcrumb_container__1pLMq\",\"description\":\"Breadcrumb_description__3x45S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Intent_form__3Tlpw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"NextButton_button__1Fodc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"steps\":\"Steps_steps__xQjGe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Result_layout__1eJNj\"};","module.exports = __webpack_public_path__ + \"static/media/black.f14fed51.png\";","module.exports = __webpack_public_path__ + \"static/media/blackot.3a5ad7bb.png\";","module.exports = __webpack_public_path__ + \"static/media/blackst.3fad8195.png\";","module.exports = __webpack_public_path__ + \"static/media/blacket.f0ca3076.png\";","module.exports = __webpack_public_path__ + \"static/media/blacko.e44a1dd0.png\";","module.exports = __webpack_public_path__ + \"static/media/blacks.216d4546.png\";","module.exports = __webpack_public_path__ + \"static/media/white.c24c0c51.png\";","module.exports = __webpack_public_path__ + \"static/media/whitee.7755ca79.png\";","module.exports = __webpack_public_path__ + \"static/media/whiteet.d10cd0cc.png\";","module.exports = __webpack_public_path__ + \"static/media/whiteo.1e81fee0.png\";","module.exports = __webpack_public_path__ + \"static/media/whites.7cb9db03.png\";","module.exports = __webpack_public_path__ + \"static/media/whiteso.f76a057b.png\";","module.exports = __webpack_public_path__ + \"static/media/whitest.05051e66.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.20098cc4.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MmE4YTQ0ZS1mZjAwLTQ1NjItYmIyMy02OTk2Njk5MTA2MTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTc1NUVDRkUzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTc1NUVDRkQzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphNDY0ZTAxMy1kYTg0LTRiNzUtOTg2NC0wYzQyOGYxYWE2MDgiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MGI5YTBiMC04NGY3LTU0NDctYjkxMi0zNTM4YjhhODdmZmEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz64jp09AAAGWElEQVR42uxdi5GjOBCVryYBXQhcCFwIXAhOwRMCG4InBE0IOAQcgh2CCQFC8MKdqNV5DXRLTyDZ6irV1NSMDeipP3rdLXb3+10kCUf+SFOQAEmSAEmAJEmAvIgMUZbLCECKftTDo8yMVv9P2Y88pPn7bT4jB6RYAGJqXFDAoAHZuU7qbrfbCgypJzaz/HzTj7/70bkCknzIf3JwAEPoz5ahPVSsGjJox03/dJW/tLYkDXHUDgn6rn0KezGAIAODZLIcV3SFnodksl7ExLy7hmTamYukIUk7koY8kZvj3iNpCFByT2AEJTEBcvD0vdcESFj+45QAsQNDevjegVj8fglAemde9GPYoD3LPZTgCfSlHZ/Cke2Fi2UO5ChoOQcEKFLY5TyWxmGr+YMmqHpRjIeuQc4cCUSL1LhNAWGCMQ7XnMMRCEaNDp03A0RPrO2KdDFdNUgrDqGY/LnxQXTguV6ptj5gmIyvldxiI34lnBq9zwgqknJGWDto1xUqV9CQVoCrSgwptJVQ+p7aqef0arK0A9wqqimYiwGRI8/0Mw/fVWn+jPuslX7ezAcgJQiQi40Ce9ZCqSf/CPJVk+CECMjdIsK5edKOg56o+4pjeJYcAUgBvCmuSeEsBop25JYmCLkHmjVjFOoEyYZyNeTE+L+OYJ6qjSl8KRaKKhYB6VFDEnDcyWiI174SzVQI+RSJIBe3pKgp1z4TJiG4KkVrQHotOW/Iip4JoFwJ2iFfBhCKqnmWHwCC0kauekEgF+MVwsUAduvjsK0UnCM2lyIrzp7hsYckA0daGYpclCBQbOlvOUFXLO1vFOF+ypnvQIb9LZp+l5YUPIrmmKJx9jNR3ZJGSKCGLQ3lpYNK2+QWRKcUANN1ZGoHl45vQYDsvbW06ZWD8is1A5hnpvPC0A4bRhhBH9289xgau19kRo/iX/Inq/ZRjmB6vvatHcimz1LgOZ8x4im19owjM/xJbYylCXRt9HRZfGqLLtw90NZSRk4IAEpjoPZRJfM5K07SCt0WjfQrroD45qMOC2bswsmD+OxTR4bGrgGAd4np4AC0CatEYP2AsQGC0hYlAm5DiPVoDcp5JI/2F10fHAUga3dQZeJXOU32hAU96dEAnW9uBBzPfh+l0/fQGffSUABBylYtbWZ+orGguIsHILuJfYirzzkZ+ZhuDUBiPA1IEen8EhyCq2fXevfjmUqL/IpZe4WoOKlNYjIIHzI060xszEb766Nvr5igSP5kmrtcA7R3jN4GU/vVz9/3JiZLP4gi7i1avSJRUVI+cd2b4ZNGioRDq+8BpOHw+Xw1k+VIqiGaY+YylccJIlFZaJ+rvzkKx0LrRUAErtKv8ACGmSlUE06Yey3XTezNVVuWwEBRHzan9+wXwGgJyShlcV0ED3fwAQiShxp9yl5ri5wBgeqnFHEijzGBMgdI7TG/URq2e+zD4F5rzyhosKnLqrYAZcmH+KwCd/28IKZtbUGRIP+ZozSkENuV7XPNlTmJLTC4KECLT746IIVlhYhNkQOis6p6ZUBujqaGAwoy80kyXTGeufi58PdOzFfLS73qJcFcIXvbaazFwg49JM3gVBteHPyQD+0oUFGWCgQMzpEYEmT6YCE/MuzNNtYIZREZcfrqZ41HcIAwjmJCOmzlSEhStVp5Dnf9AAJu1nkGQCXm+zO4QjE1JcGhbwLIB/Eh/wGsXPFQPHAFFjOY5koS72Mt4T0jM11baGAolMIFvPKRm7glv4T0nbUPDRnBOwujBVkf2yQnVkUj1pWCEQB00FUNlA+XD/cAXT2ebF0Y6Vtzosz6qcfkEhUMisk6CcxRgGdvJmuFqpOCQXsrQzs5+6WKcS+rtLGFWAYkLUm8i8XmlUOHIEJ+GRsgqHZrX2dqcRt0/petjPG1eUr4O9f9Ub4J5ORcSJ2J32uCzVC60+PfsF4f3MObzwAAWbP80emNbFM+GClb0+9rNuCctwxnYwFkTfmK4SbfBZAzez+QAEna8S6ARKMdIQCyhpP9EdPqCQEQn0cHfovA3jEVg8nydcBmF5PveAdAvmLYd4S4Ux8EfVxGo3fl3uVVXyyJNi2fIlYJKB+COnPrGNP8hd4WbZt/aLXZoxxqGTQgIb6ceHyhinkMxtSGb/x53dLCBOXUkyTqJAGSJAGSAEkShvwUYABT1U3A5H7qwgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MmE4YTQ0ZS1mZjAwLTQ1NjItYmIyMy02OTk2Njk5MTA2MTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REUyNDExOEIzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REUyNDExOEEzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphNDY0ZTAxMy1kYTg0LTRiNzUtOTg2NC0wYzQyOGYxYWE2MDgiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MGI5YTBiMC04NGY3LTU0NDctYjkx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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MmE4YTQ0ZS1mZjAwLTQ1NjItYmIyMy02OTk2Njk5MTA2MTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTc1NUVDRkEzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTc1NUVDRjkzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphNDY0ZTAxMy1kYTg0LTRiNzUtOTg2NC0wYzQyOGYxYWE2MDgiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MGI5YTBiMC04NGY3LTU0NDctYjkxMi0zNTM4YjhhODdmZmEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7o8HzfAAAFIUlEQVR42uydi3GbQBCGF00aoAVSAikBl0BKICWQEuQSSAlWCagEqwSpBCjB4TLHDHYkwd7uPbjbf+ZmbI8t4f3YF7pH9vHxAaJwdBATCBCRABEgIkN9o75AlmU+rjufRqlHoYdSded3L9MYp3Gexk1/f+O6EO6iKKO+oCMguTb2PAri681gLhrUJRQg/16QMiyrmcabukzLY5hGpz3Oqf3+s2eAQEptnMEBiHvjXd8ISQNRIaidxtUThEdgKtdAfOSQWgOoFh6RB1z4vOoxxpZD6sA8AOstZSwhS3lDv1MQXxN/s3cgrcfkbGsc95hDcl2uVpbi+rKPGPX3twcNX74IN+Uif1F6GdW7/FTvvYccUlrIFVddCjcMTeEyp/XUvBJ6yGoYQ5Rxs4ZURQCjrrEKFUjDCKL1UArXhJupCQ1Iw5gwffYkOcFbulCAlAxh6mqxADBRZ/h/KJi5NyD6jqIm8C7QTr0hJPvcFxDqk9g28M+LTPPKYFqBUWDURBgN7EOmIdnIUyihagCmbncHMk32R1dAjsSGaq8ySfaFVSC6U6aEqhL2LSyU3jYQSiLvYP8yqSwrK0B0r0DxjgLiUGPLS7BA+sS9Y+kl2KKmZAXCkDsqiEvYXNJxA+mA9mgkNmHD97ClL8H0HSk0gVhhy/+GC0hLgNFDvMJWXB0ZCENX3kLcwjxCGoyA6PjYAs8MwiJmGgbVZ2kChOtj2C5y75jt1XDlERvl7aennSkA0XbbmkuePnC8t2CHI8So6Tkv8GD6ZaT6g3icv06Y0UOS8Iw7HrLVboNJDhEYSCDabu9b7IQNWRT9SixMfdVpyy9lWfYwbB2e5ACTvHGBtHVGNJQoICZ3+S1xGCrkXKgRghNI6t6BCluuQpaIaAfOpH4WFvaA3ASGnzzClUMkXDHZgyuHjMLAIpDJ7cTANLGHLOkrAgtZWCDiUUw6MFEWb8JVYmcTIJi7vhQzf1Lu20MKYbDZHhcB4l6laXg/PIlzIyI3VMJgMxBjD1E6MV1EMsqyLF+JGGcKEEzYqgXHqh1G/azLDMj0xydEtSVA1iPFesRhXk+YXC5BTrstOeb2YqYFvSUO5NkMxp5tfQjg5q4WCQN5ZqeKEwhmhnefIpCVSMK/xhBw6yCqBIF0QFxfiAWCmeF9TQnIine01tapI72kTQjIoxVmb1a31gD8+uwUuvdH3uFm8xlkxTWAn8nXuS5EWn29/Z3+YNA/74g5rwOf2zMBfjmwyxnxBZgvw+sNPLrihEHZDQi734mLpW2UlcKfjIl4z3vRonG+xZ++E4dAoOSwcV0Gs0e3YGF3UsqOcq1hWOAOX5wwtm6wdu+GbLzvSgpmG2BeGauvI9jb473cmDtIOYMbCGXfRWqfUlmEsfkRUIhbjV+Bvp24yZ7uLo7AqPYIpGW+K/OV2N0yvyfJS0IEUlg2Qg7uTmtDP20I9XQEX8ZyMVqXQLhWUJ1AxCJOIDK/NyAgSq9izrCAqM1XYlxr6HSpBfehYAXEt9/J92fhmPtQMO69TtSFx7Qt09l1brRxwL2aKvkjkvDlvnq0fLBkA/s9bvXqwn6+Touud9g81j6AuD4tev6suwT6aZu2Q9XPrUBCrrKwKjSgGsKZoTLqympMEchSS69ZnrfuGsYLINbF7Pk8dVMPasDOx7TUCQ5R5BCq5tA2D64GVD1l+G3SP8Ucskw0H81d6K+XR3XnT+74ueG76AQ+UiJMUEBE4XfqIgEiQEQCRICIPOivAAMA3yRcglkl3R0AAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"result\":\"Result_result__pmIP7\"};","const serverRoot =\n  process.env.NODE_ENV === \"production\" ? \"/api\" : \"http://127.0.0.1:8000/api\";\n\nconst requestOnServer = async ({ uri, method, body, success, error }) => {\n  const headers = {\n    Accept: \"application/json\",\n  };\n  if (body) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n\n  try {\n    const response = await fetch(`${serverRoot}${uri}`, {\n      method,\n      headers,\n      body: body ? JSON.stringify(body) : undefined,\n    });\n    if (!response.ok) {\n      throw new Error(`Bad status: ${response.status}`);\n    }\n    const data = await response.json();\n    success(data);\n  } catch (e) {\n    error ? error(e) : console.error(e);\n  }\n};\n\nexport const postOnServer = async ({ uri, body, success, error }) => {\n  return requestOnServer({ uri, method: \"POST\", body, success, error });\n};\n\nexport const getOnServer = async ({ uri, success, error }) => {\n  return requestOnServer({ uri, method: \"GET\", success, error });\n};\n\n// Source: https://plainjs.com/javascript/utilities/set-cookie-get-cookie-and-delete-cookie-5/\nconst getXsrfToken = () =>\n  decodeURIComponent(\n    document.cookie.match(\"(^|;) ?XSRF-TOKEN=([^;]*)(;|$)\")[2]\n  );\n\nexport const authentifiedPostOnServer = async ({\n  uri,\n  body,\n  success,\n  error,\n}) => {\n  try {\n    const response = await fetch(`${serverRoot}${uri}`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"X-Requested-With\": \"XMLHttpRequest\",\n        \"X-XSRF-TOKEN\": getXsrfToken(),\n      },\n      body: JSON.stringify(body),\n    });\n    if (!response.ok) {\n      throw new Error(`Bad status: ${response.status}`);\n    }\n    const data = await response.json();\n    success(data);\n  } catch (e) {\n    error ? error(e) : console.error(e);\n  }\n};\n","import React from \"react\";\nimport { Steps } from \"antd\";\nimport styles from \"./Steps.module.css\";\nimport classNames from \"classnames\";\n\nexport const DECLARE = \"declare\";\nexport const REROLL = \"reroll\";\nexport const KEEP = \"keep\";\nexport const RESOLVE = \"resolve\";\n\nconst { Step } = Steps;\n\nconst CustomSteps = ({ current, className }) => {\n  return (\n    <Steps\n      current={[DECLARE, REROLL, KEEP, RESOLVE].indexOf(current)}\n      className={classNames(styles.steps, { [className]: !!className })}\n    >\n      <Step title={\"Declare\"} description={\"Declare Intention\"} />\n      <Step title={\"Modify\"} description={\"Modify Rolled Dice\"} />\n      <Step title={\"Keep\"} description={\"Choose Kept Dice\"} />\n      <Step title={\"Resolve\"} description={\"Resolve Symbols\"} />\n    </Steps>\n  );\n};\n\nexport default CustomSteps;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { postOnServer, authentifiedPostOnServer } from \"../../server\";\nimport { DECLARE, REROLL, KEEP, RESOLVE } from \"./Steps\";\n\nconst initialState = {\n  tn: 3,\n  ring: 3,\n  skill: 1,\n  modifiers: [],\n  dices: [],\n  metadata: {},\n  loading: false,\n  error: false,\n};\n\nconst slice = createSlice({\n  name: \"roll\",\n  initialState,\n  reducers: {\n    softReset: (state) => {\n      state.dices = [];\n      state.metadata = {};\n      state.modifiers = [];\n      state.id = null;\n      window.history.pushState(null, null, \"/\");\n    },\n    setParameters: (state, action) => {\n      const {\n        campaign,\n        character,\n        description,\n        tn,\n        ring,\n        skill,\n        modifiers,\n      } = action.payload;\n      state.campaign = campaign;\n      state.character = character;\n      state.description = description;\n      state.tn = tn;\n      state.ring = ring;\n      state.skill = skill;\n      state.modifiers = modifiers;\n    },\n    setDices: (state, action) => {\n      state.dices = action.payload;\n    },\n    setMetadata: (state, action) => {\n      state.metadata = action.payload;\n    },\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    },\n    setId: (state, action) => {\n      const id = action.payload;\n      state.id = id;\n      window.history.pushState(null, null, `/rolls/${id}`);\n    },\n    setPlayer: (state, action) => {\n      state.player = action.payload;\n    },\n    setError: (state, action) => {\n      state.error = action.payload;\n    },\n    setAnimatedStep: (state, action) => {\n      state.animatedStep = action.payload;\n    },\n  },\n});\n\nexport const {\n  setParameters,\n  setDices,\n  setMetadata,\n  setLoading,\n  setId,\n  setPlayer,\n  softReset,\n  setAnimatedStep,\n} = slice.actions;\n\nconst { setError } = slice.actions;\n\nexport const create = (request, user) => (dispatch) => {\n  dispatch(setLoading(true));\n  dispatch(setParameters(request));\n\n  const error = () => {\n    dispatch(setError(true));\n  };\n\n  const {\n    tn,\n    ring,\n    skill,\n    modifiers,\n    campaign,\n    character,\n    description,\n  } = request;\n\n  if (user) {\n    authentifiedPostOnServer({\n      uri: \"/ffg/l5r/rolls/create\",\n      body: {\n        tn,\n        ring,\n        skill,\n        modifiers,\n        campaign,\n        character,\n        description,\n      },\n      success: (data) => {\n        dispatch(setDices(data[\"dices\"]));\n        dispatch(setId(data[\"id\"]));\n        dispatch(setPlayer(user));\n        dispatch(setLoading(false));\n      },\n      error,\n    });\n    return;\n  }\n\n  postOnServer({\n    uri: \"/public/ffg/l5r/rolls/create\",\n    body: {\n      tn,\n      ring,\n      skill,\n      modifiers,\n    },\n    success: (data) => {\n      dispatch(setDices(data[\"dices\"]));\n      dispatch(setLoading(false));\n    },\n    error,\n  });\n};\n\nexport const reroll = (roll, positions, modifier) => (dispatch) => {\n  dispatch(setLoading(true));\n\n  const success = (data) => {\n    dispatch(setDices(data[\"dices\"]));\n    dispatch(setMetadata(data[\"metadata\"]));\n    dispatch(setLoading(false));\n  };\n  const error = () => {\n    dispatch(setError(true));\n  };\n\n  const { id } = roll;\n  if (id) {\n    authentifiedPostOnServer({\n      uri: `/ffg/l5r/rolls/${id}/reroll`,\n      body: {\n        positions,\n        modifier,\n      },\n      success,\n      error,\n    });\n    return;\n  }\n\n  const { tn, ring, skill, modifiers, dices } = roll;\n  postOnServer({\n    uri: \"/public/ffg/l5r/rolls/reroll\",\n    body: {\n      roll: {\n        parameters: { tn, ring, skill, modifiers },\n        dices,\n      },\n      positions,\n      modifier,\n    },\n    success,\n    error,\n  });\n};\n\nexport const keep = (roll, positions) => (dispatch) => {\n  dispatch(setLoading(true));\n\n  const success = (data) => {\n    dispatch(setDices(data[\"dices\"]));\n    dispatch(setLoading(false));\n  };\n  const error = () => {\n    dispatch(setError(true));\n  };\n\n  const { id } = roll;\n  if (id) {\n    authentifiedPostOnServer({\n      uri: `/ffg/l5r/rolls/${id}/keep`,\n      body: {\n        positions,\n      },\n      success,\n      error,\n    });\n    return;\n  }\n\n  const { tn, ring, skill, modifiers, dices, metadata } = roll;\n  postOnServer({\n    uri: \"/public/ffg/l5r/rolls/keep\",\n    body: {\n      roll: {\n        parameters: { tn, ring, skill, modifiers },\n        dices,\n        metadata,\n      },\n      positions,\n    },\n    success,\n    error,\n  });\n};\n\nexport const selectAll = (state) => state.roll;\nexport const selectLoading = (state) => state.roll.loading;\nexport const selectStep = (state) => {\n  const { dices, metadata, modifiers, animatedStep } = state.roll;\n\n  if (animatedStep) {\n    return animatedStep;\n  }\n\n  const dicesRolled = dices.length > 0;\n  const atLeastOneUnresolvedDice =\n    dicesRolled && dices.some((dice) => dice.status === \"pending\");\n  const hasReroll =\n    modifiers.includes(\"adversity\") || modifiers.includes(\"distinction\");\n  const rerollDone = metadata?.rerolls?.length || !hasReroll;\n\n  if (dicesRolled && rerollDone && !atLeastOneUnresolvedDice) {\n    return RESOLVE;\n  }\n\n  if (dicesRolled && rerollDone) {\n    return KEEP;\n  }\n\n  if (dicesRolled && hasReroll) {\n    return REROLL;\n  }\n\n  return DECLARE;\n};\nexport const selectIntent = (state) => {\n  const {\n    campaign,\n    character,\n    description,\n    tn,\n    ring,\n    skill,\n    modifiers,\n    player,\n  } = state.roll;\n\n  return {\n    campaign,\n    character,\n    description,\n    tn,\n    ring,\n    skill,\n    modifiers,\n    player,\n  };\n};\nexport const selectHidden = (state) =>\n  state.roll.loading && !state.roll.animatedStep;\n\nexport default slice.reducer;\n","import React from \"react\";\nimport { Button } from \"antd\";\nimport styles from \"./NextButton.module.css\";\nimport { useSelector } from \"react-redux\";\nimport { selectLoading } from \"./reducer\";\n\nconst NextButton = ({ children, disabled, ...props }) => {\n  const loading = useSelector(selectLoading);\n\n  return (\n    <Button\n      type=\"primary\"\n      className={styles.button}\n      disabled={disabled || loading}\n      {...props}\n    >\n      {children}\n    </Button>\n  );\n};\n\nexport default NextButton;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst slice = createSlice({\n  name: \"user\",\n  initialState: {\n    campaigns: [],\n    characters: [],\n  },\n  reducers: {\n    setUser: (state, action) => {\n      const { id, name, campaigns, characters } = action.payload;\n      state.id = id;\n      state.name = name;\n      state.campaigns = campaigns;\n      state.characters = characters;\n    },\n    addCampaign: (state, action) => {\n      const campaign = action.payload;\n      if (!state.campaigns.includes(campaign)) {\n        state.campaigns.push(campaign);\n      }\n    },\n    addCharacter: (state, action) => {\n      const character = action.payload;\n      if (!state.characters.includes(character)) {\n        state.characters.push(character);\n      }\n    },\n  },\n});\n\nexport const { setUser, addCampaign, addCharacter } = slice.actions;\n\nexport const selectUser = (state) => (state.user.id ? state.user : undefined);\nexport const selectCampaigns = (state) => state.user.campaigns;\nexport const selectCharacters = (state) => state.user.characters;\n\nexport default slice.reducer;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Form,\n  Input,\n  InputNumber,\n  Radio,\n  Switch,\n  Divider,\n  AutoComplete,\n} from \"antd\";\nimport styles from \"./Intent.module.css\";\nimport NextButton from \"./NextButton\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  selectCampaigns,\n  selectCharacters,\n  addCampaign,\n  addCharacter,\n} from \"../user/reducer\";\nimport { setAnimatedStep, selectHidden } from \"../roller/reducer\";\nimport Animate from \"rc-animate\";\nimport { DECLARE } from \"./Steps\";\n\nconst { TextArea } = Input;\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\nconst tailLayout = {\n  labelCol: { span: 0 },\n  wrapperCol: { span: 24 },\n};\n\nconst defaultRules = [{ required: true, message: \"Please fill this field\" }];\n\nconst arrayToAutoCompleteOptions = (values) => {\n  if (!values) {\n    return undefined;\n  }\n\n  return values.map((value) => {\n    return {\n      value,\n    };\n  });\n};\n\nconst AnimatedIntent = ({ onFinish, values }) => {\n  const [completed, setCompleted] = useState(false);\n  const dispatch = useDispatch();\n  const hidden = useSelector(selectHidden);\n\n  useEffect(() => {\n    if (completed) {\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n  }, [completed]);\n\n  const onComplete = () => {\n    setCompleted(true);\n    dispatch(setAnimatedStep(DECLARE));\n  };\n\n  if (hidden) {\n    return null;\n  }\n\n  return (\n    <Animate\n      transitionName=\"fade\"\n      transitionEnter={false}\n      transitionLeave={true}\n      showProp=\"visible\"\n      onEnd={() => dispatch(setAnimatedStep(null))}\n    >\n      <Intent\n        visible={!completed}\n        onComplete={onComplete}\n        onFinish={onFinish}\n        values={values}\n      />\n    </Animate>\n  );\n};\n\nconst Intent = ({ onFinish, values, onComplete }) => {\n  const campaigns = useSelector(selectCampaigns);\n  const characters = useSelector(selectCharacters);\n  const dispatch = useDispatch();\n\n  const wrappedOnFinish = (data) => {\n    onComplete();\n\n    dispatch(addCampaign(data[\"campaign\"]));\n    dispatch(addCharacter(data[\"character\"]));\n\n    onFinish({\n      ...data,\n      modifiers: [\n        data[\"modifier\"],\n        data[\"compromised\"] && \"compromised\",\n        data[\"void\"] && \"void\",\n      ].filter(Boolean),\n    });\n  };\n\n  return (\n    <Form\n      className={`boxed ${styles.form}`}\n      {...layout}\n      initialValues={values}\n      onFinish={wrappedOnFinish}\n      scrollToFirstError\n    >\n      <Form.Item label=\"Campaign\" name=\"campaign\" rules={defaultRules}>\n        <AutoComplete\n          options={arrayToAutoCompleteOptions(campaigns)}\n          placeholder={\"The Dead of Winter\"}\n        />\n      </Form.Item>\n      <Form.Item label=\"Character\" name=\"character\" rules={defaultRules}>\n        <AutoComplete\n          options={arrayToAutoCompleteOptions(characters)}\n          placeholder={\"Doji Sakura\"}\n        />\n      </Form.Item>\n      <Form.Item label=\"TN\" name=\"tn\">\n        <InputNumber min={1} />\n      </Form.Item>\n      <Form.Item label=\"Description\" name=\"description\" rules={defaultRules}>\n        <TextArea\n          placeholder={\"Running at the foe! Fire, Fitness, Keen Balance\"}\n        />\n      </Form.Item>\n      <Divider />\n      <Form.Item label=\"Ring\" name=\"ring\" rules={defaultRules}>\n        <InputNumber min={1} max={5} />\n      </Form.Item>\n      <Form.Item label=\"Skill\" name=\"skill\" rules={defaultRules}>\n        <InputNumber min={0} max={5} />\n      </Form.Item>\n      <Divider />\n      <Form.Item label=\"Void?\" name=\"void\" valuePropName=\"checked\">\n        <Switch />\n      </Form.Item>\n      <Form.Item label=\"Advantage / Disadvantage\" name=\"modifier\">\n        <Radio.Group>\n          <Radio.Button value=\"\">None</Radio.Button>\n          <Radio.Button value=\"distinction\">Distinction</Radio.Button>\n          <Radio.Button value=\"adversity\">Adversity</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item\n        label=\"Compromised?\"\n        name=\"compromised\"\n        valuePropName=\"checked\"\n      >\n        <Switch />\n      </Form.Item>\n      <Divider />\n      <Form.Item {...tailLayout}>\n        <NextButton htmlType=\"submit\">Roll</NextButton>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default AnimatedIntent;\n","export const countDices = (keptDices) => {\n  return {\n    successCount: keptDices.reduce(\n      (acc, dice) =>\n        acc + (dice.value.explosion || 0) + (dice.value.success || 0),\n      0\n    ),\n    opportunityCount: keptDices.reduce(\n      (acc, dice) => acc + (dice.value.opportunity || 0),\n      0\n    ),\n    strifeCount: keptDices.reduce(\n      (acc, dice) => acc + (dice.value.strife || 0),\n      0\n    ),\n  };\n};\n\nexport const hideRerolls = (dices) => {\n  const isAReroll = ({ status }) => status === \"rerolled\";\n  const isFromReroll = ({ status, metadata }) =>\n    metadata?.modifier && status !== \"rerolled\";\n\n  const rerollDices = dices.filter(isFromReroll);\n\n  let i = 0;\n  let reorder = [];\n  dices.forEach((dice) => {\n    if (isFromReroll(dice)) {\n      return;\n    }\n\n    if (isAReroll(dice)) {\n      reorder.push(rerollDices[i]);\n      i++;\n      return;\n    }\n\n    reorder.push(dice);\n  });\n  return reorder;\n};\n","import React from \"react\";\nimport { Typography, List } from \"antd\";\nimport { countDices } from \"./utils\";\nimport styles from \"./Result.module.css\";\nimport classNames from \"classnames\";\n\nconst { Text } = Typography;\n\nconst Result = ({ dices, tn, extra, className }) => {\n  const keptDices = dices.filter(({ status }, index) => {\n    return status === \"kept\" || (extra && extra.includes(index));\n  });\n\n  const { successCount, opportunityCount, strifeCount } = countDices(keptDices);\n\n  const data = [\n    {\n      type: \"Success\",\n      count: successCount,\n      color: tn ? (successCount >= tn ? \"success\" : \"warning\") : null,\n      extra: tn ? ` (required: ${tn})` : \" (unknown TN)\",\n    },\n    {\n      type: \"Opportunity\",\n      count: opportunityCount,\n    },\n    {\n      type: \"Strife\",\n      count: strifeCount,\n      color: strifeCount > 0 && \"danger\",\n    },\n  ];\n\n  return (\n    <List\n      className={classNames(styles.layout, { [className]: !!className })}\n      grid={{ gutter: 16, column: 3 }}\n      dataSource={data}\n      renderItem={({ type, count, color, extra }) => (\n        <List.Item>\n          <Text strong type={color}>{`${type}: ${count}`}</Text>\n          {extra && <Text>{extra}</Text>}\n        </List.Item>\n      )}\n    />\n  );\n};\n\nexport default Result;\n","import React from \"react\";\nimport { Tooltip, Image } from \"antd\";\nimport blankRing from \"./images/black.png\";\nimport strifeOpportunityRing from \"./images/blackot.png\";\nimport strifeSuccessRing from \"./images/blackst.png\";\nimport strifeExplosionRing from \"./images/blacket.png\";\nimport opportunityRing from \"./images/blacko.png\";\nimport successRing from \"./images/blacks.png\";\nimport blankSkill from \"./images/white.png\";\nimport explosionSkill from \"./images/whitee.png\";\nimport explosionStrifeSkill from \"./images/whiteet.png\";\nimport opportunitySkill from \"./images/whiteo.png\";\nimport successSkill from \"./images/whites.png\";\nimport successOpportunitySkill from \"./images/whiteso.png\";\nimport successStrifeSkill from \"./images/whitest.png\";\n\nconst getImage = ({\n  type,\n  value: { opportunity, strife, success, explosion },\n}) => {\n  if (type === \"skill\") {\n    if (explosion) {\n      if (strife) {\n        return explosionStrifeSkill;\n      }\n      return explosionSkill;\n    }\n\n    if (success) {\n      if (opportunity) {\n        return successOpportunitySkill;\n      }\n      if (strife) {\n        return successStrifeSkill;\n      }\n      return successSkill;\n    }\n\n    if (opportunity) {\n      return opportunitySkill;\n    }\n\n    return blankSkill;\n  }\n\n  if (strife) {\n    if (explosion) {\n      return strifeExplosionRing;\n    }\n    if (success) {\n      return strifeSuccessRing;\n    }\n    return strifeOpportunityRing;\n  }\n\n  if (success) {\n    return successRing;\n  }\n  if (opportunity) {\n    return opportunityRing;\n  }\n\n  return blankRing;\n};\n\nconst valueText = ({ value: { opportunity, strife, success, explosion } }) => {\n  return (\n    [\n      opportunity && `Opportunity: ${opportunity}`,\n      success && `Success: ${success}`,\n      explosion && `Explosion: ${explosion}`,\n      strife && `Strife: ${strife}`,\n    ]\n      .filter(Boolean)\n      .join(\"; \") || \"Blank\"\n  );\n};\n\nconst statusText = ({ status, metadata }) => {\n  const modifier = metadata?.modifier;\n  const rerolled = status === \"rerolled\";\n  const fromReroll = modifier && status !== \"rerolled\";\n\n  if (rerolled) {\n    if (modifier === \"adversity\") {\n      return \"Rerolled due to Adversity\";\n    }\n    if (modifier === \"distinction\") {\n      return \"Rerolled thanks to Distinction\";\n    }\n  }\n\n  return [\n    fromReroll && modifier === \"adversity\" && \"Adversity reroll\",\n    fromReroll && modifier === \"distinction\" && \"Distinction reroll\",\n    status === \"dropped\" && \"Dropped\",\n    status === \"kept\" && \"Kept\",\n  ]\n    .filter(Boolean)\n    .join(\" – \");\n};\n\nconst getText = (dice) => {\n  return [valueText(dice), statusText(dice)].filter(Boolean).join(\" – \");\n};\n\nconst Dice = ({ dice }) => {\n  return (\n    <Tooltip title={getText(dice)}>\n      <div>\n        <Image src={getImage(dice)} alt={valueText(dice)} preview={false} />\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default Dice;\n","import React from \"react\";\nimport styles from \"./Dices.module.css\";\nimport classNames from \"classnames\";\nimport Dice from \"./Dice\";\n\nconst Dices = ({ dices, theme, className }) => {\n  if (!dices?.length) {\n    return null;\n  }\n  return (\n    <div className={classNames(styles.dices, { [className]: !!className })}>\n      {dices.map((dice, index) => {\n        const {\n          selectable,\n          selected,\n          disabled,\n          toggle,\n          status,\n          metadata,\n          value,\n        } = dice;\n        const modifier = metadata?.modifier;\n        const rerolled = status === \"rerolled\";\n        const fromReroll = modifier && status !== \"rerolled\";\n\n        return (\n          <div\n            key={index.toString()}\n            className={classNames(styles.dice, {\n              [styles.selectable]: selectable,\n              [styles.selected]: selected,\n              [styles.unselectable]: disabled,\n              [styles.rerolled]: rerolled,\n              [styles[\"from-reroll\"]]: fromReroll,\n              [styles[`theme-${theme}`]]: !!theme,\n              [styles.explosion]: value?.explosion,\n            })}\n            onClick={selectable ? toggle : undefined}\n          >\n            <Dice dice={dice} />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Dices;\n","import React from \"react\";\nimport Dices from \"./Dices\";\nimport { hideRerolls } from \"./utils\";\nimport { Divider } from \"antd\";\n\nconst splitExplosions = ({ dices, basePool }) => {\n  let split = [];\n  let remainingDices = hideRerolls(dices);\n  let size = basePool;\n  while (remainingDices.length > 0) {\n    const currentDices = remainingDices.slice(0, size);\n    currentDices.sort((a, b) => {\n      if (a.type === \"ring\" && b.type === \"skill\") {\n        return -1;\n      }\n      if (b.type === \"ring\" && a.type === \"skill\") {\n        return 1;\n      }\n      return 0;\n    });\n    remainingDices = remainingDices.slice(size, remainingDices.length);\n    size = currentDices.filter(\n      ({ status, value: { explosion } }) => status === \"kept\" && explosion > 0\n    ).length;\n    split.push(currentDices);\n  }\n  return split;\n};\n\nconst ExplosionDices = ({ dices, basePool, className }) => {\n  if (!basePool || basePool > dices.length) {\n    throw new Error(\"Better than infite loop\");\n  }\n\n  return (\n    <div className={className}>\n      {splitExplosions({ dices, basePool }).map((dices, index) => {\n        return (\n          <React.Fragment key={index.toString()}>\n            {index > 0 && <Divider />}\n            <Dices dices={dices} theme=\"shiny\" />\n          </React.Fragment>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default ExplosionDices;\n","import React, { useState, useEffect } from \"react\";\nimport NextButton from \"./NextButton\";\nimport Result from \"./Result\";\nimport { Typography } from \"antd\";\nimport ExplosionDices from \"./ExplosionDices\";\nimport styles from \"./Keep.module.css\";\n\nconst { Paragraph } = Typography;\n\nconst Keep = ({ dices, ring, skill, voided, onFinish, compromised, tn }) => {\n  const [toKeep, setToKeep] = useState([]);\n  useEffect(() => {\n    setToKeep([]);\n  }, [dices.length]);\n\n  const max = voided ? ring + 1 : ring;\n  const basePool = max + skill;\n\n  const keepingExplosions =\n    dices.filter((dice) => dice.status === \"kept\").length > 0;\n\n  const trulyCompromised =\n    compromised &&\n    dices\n      .filter((dice) => dice.status === \"pending\")\n      .every((dice) => dice.value.strife);\n\n  const toggle = (index) => {\n    if (toKeep.includes(index)) {\n      return setToKeep(toKeep.filter((i) => i !== index));\n    }\n    return setToKeep([...toKeep, index]);\n  };\n\n  const text = () => {\n    if (trulyCompromised) {\n      return \"Being compromised, you cannot keep any die with strife… Which, in this very specific case, means you cannot keep any die at all.\";\n    }\n\n    if (keepingExplosions) {\n      return \"Select which explosions you wish to keep (if any).\";\n    }\n\n    const defaultText =\n      max > 1\n        ? `You can keep up to ${max} dice (min 1).`\n        : \"You must choose one die to keep.\";\n\n    if (compromised) {\n      return `${defaultText} However, due to being compromised, you cannot keep any die with strife.`;\n    }\n\n    return defaultText;\n  };\n\n  const buttonText = () => {\n    if (trulyCompromised) {\n      return \"Continue\";\n    }\n\n    if (keepingExplosions) {\n      if (toKeep.length === 0) {\n        return \"Don't keep anything else\";\n      }\n\n      if (toKeep.length === 1) {\n        return \"Also keep that die\";\n      }\n\n      return \"Also keep these dice\";\n    }\n\n    if (toKeep.length === 1) {\n      return \"Keep that die\";\n    }\n\n    if (toKeep.length === 0) {\n      return \"Must select at least one die\";\n    }\n\n    return \"Keep these dice\";\n  };\n\n  return (\n    <div className={styles.layout}>\n      <ExplosionDices\n        dices={dices.map((dice, index) => {\n          const { status, value } = dice;\n          const selected = status === \"kept\" || toKeep.includes(index);\n          const available =\n            status === \"pending\" && (!compromised || !value.strife);\n          const selectable =\n            available && (selected || keepingExplosions || max > toKeep.length);\n          const disabled = (() => {\n            if (status === \"kept\") {\n              return false;\n            }\n            if (status !== \"pending\") {\n              return true;\n            }\n            return !selectable;\n          })();\n          return {\n            ...dice,\n            selectable,\n            selected,\n            disabled,\n            toggle: () => toggle(index),\n          };\n        })}\n        basePool={basePool}\n      />\n      <Paragraph>{text()}</Paragraph>\n      <Result dices={dices} tn={tn} extra={toKeep} className={styles.figures} />\n      <NextButton\n        onClick={() => onFinish(toKeep)}\n        disabled={\n          !(keepingExplosions || trulyCompromised) && toKeep.length === 0\n        }\n      >\n        {buttonText()}\n      </NextButton>\n    </div>\n  );\n};\n\nexport default Keep;\n","import React from \"react\";\nimport Dices from \"./Dices\";\nimport { Typography, Card } from \"antd\";\n\nconst { Paragraph } = Typography;\n\nconst DicesBox = ({ dices, text, footer, theme }) => {\n  return (\n    <Card bordered={false}>\n      <div className=\"boxed\">\n        {text && <Paragraph>{text}</Paragraph>}\n        <Dices dices={dices} theme={theme} />\n        {footer && <div>{footer}</div>}\n      </div>\n    </Card>\n  );\n};\n\nexport default DicesBox;\n","import React, { useState } from \"react\";\nimport DicesBox from \"../DicesBox\";\nimport NextButton from \"../NextButton\";\n\nconst Distinction = ({ dices, onFinish }) => {\n  const [toReroll, setToReroll] = useState([]);\n  const max = 2;\n  const toggle = (index) => {\n    if (toReroll.includes(index)) {\n      return setToReroll(toReroll.filter((i) => i !== index));\n    }\n    return setToReroll([...toReroll, index]);\n  };\n\n  const buttonText = () => {\n    if (toReroll.length === 0) {\n      return \"Don't reroll anything\";\n    }\n\n    if (toReroll.length === 1) {\n      return \"Reroll that die\";\n    }\n\n    return \"Reroll these dice\";\n  };\n\n  return (\n    <DicesBox\n      text={\n        <>\n          Thanks to your <strong>Distinction</strong>, you can select up to\n          {` ${max}`} dice to be rerolled:\n        </>\n      }\n      dices={dices.map((dice, index) => {\n        const selected = toReroll.includes(index);\n        const selectable = selected || toReroll.length < max;\n        return {\n          ...dice,\n          selectable,\n          selected,\n          disabled: !selectable,\n          toggle: () => toggle(index),\n        };\n      })}\n      footer={\n        <NextButton onClick={() => onFinish(toReroll)}>\n          {buttonText()}\n        </NextButton>\n      }\n      theme=\"green\"\n    />\n  );\n};\n\nexport default Distinction;\n","import React, { useState } from \"react\";\nimport DicesBox from \"../DicesBox\";\nimport NextButton from \"../NextButton\";\n\nconst Adversity = ({ dices, onFinish }) => {\n  const [toReroll, setToReroll] = useState([]);\n  const successDices = dices.filter(\n    ({ value }) => value.success || value.explosion\n  );\n  const max = 2;\n  const min = Math.min(max, successDices.length);\n  const toggle = (index) => {\n    if (toReroll.includes(index)) {\n      return setToReroll(toReroll.filter((i) => i !== index));\n    }\n    return setToReroll([...toReroll, index]);\n  };\n\n  return (\n    <DicesBox\n      text={\n        <>\n          Due to your <strong>Adversity</strong>, you must select two success\n          dice (or as much as possible if you don't have two) that will be\n          rerolled.\n        </>\n      }\n      dices={dices.map((dice, index) => {\n        const selected = toReroll.includes(index);\n        const isSuccess = dice.value.success || dice.value.explosion;\n        const selectable = isSuccess && (selected || toReroll.length < max);\n        return {\n          ...dice,\n          selectable,\n          selected,\n          disabled: !selectable,\n          toggle: () => toggle(index),\n        };\n      })}\n      footer={\n        <NextButton\n          disabled={toReroll.length < min}\n          onClick={() => onFinish(toReroll)}\n        >\n          {\"Continue\"}\n        </NextButton>\n      }\n      theme=\"orange\"\n    />\n  );\n};\n\nexport default Adversity;\n","import React from \"react\";\nimport { Descriptions } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nconst Summary = ({\n  campaign,\n  character,\n  description,\n  tn,\n  ring,\n  skill,\n  modifiers,\n  player,\n}) => {\n  const special = [\n    modifiers.includes(\"void\") && \"Void Point spent\",\n    modifiers.includes(\"compromised\") && \"Compromised\",\n    modifiers.includes(\"adversity\") && \"Adversity applies\",\n    modifiers.includes(\"distinction\") && \"Distinction applies\",\n  ]\n    .filter(Boolean)\n    .join(\" – \");\n\n  return (\n    <Descriptions column={{ md: 3, sm: 1, xs: 1 }} bordered>\n      <Descriptions.Item label=\"Campaign\">\n        <Link to={`/rolls?campaign=${campaign}`}>{campaign}</Link>\n      </Descriptions.Item>\n      <Descriptions.Item label=\"Character\" span={player ? 1 : 2}>\n        <Link to={`/rolls?campaign=${campaign}&character=${character}`}>\n          {character}\n        </Link>\n      </Descriptions.Item>\n      {player && (\n        <Descriptions.Item label=\"Player\">\n          <Link to={`/rolls?player=${player.id}`}>{player.name}</Link>\n        </Descriptions.Item>\n      )}\n      <Descriptions.Item label=\"Description\" span={3}>\n        {description}\n      </Descriptions.Item>\n      <Descriptions.Item label=\"TN\">{tn || \"?\"}</Descriptions.Item>\n      <Descriptions.Item label=\"Ring\">{ring}</Descriptions.Item>\n      <Descriptions.Item label=\"Skill\">{skill}</Descriptions.Item>\n      {special && (\n        <Descriptions.Item label=\"Special\" span={3}>\n          {special}\n        </Descriptions.Item>\n      )}\n    </Descriptions>\n  );\n};\n\nexport default Summary;\n","import React from \"react\";\nimport { Alert } from \"antd\";\n\nconst DefaultErrorMessage = () => {\n  return (\n    <Alert\n      message=\"Something bad happened. Try reloading the page. If things are still broken, please contact administrator through the link at the bottom of the page.\"\n      type=\"error\"\n      banner={true}\n    />\n  );\n};\n\nexport default DefaultErrorMessage;\n","import React from \"react\";\nimport Dices from \"../Dices\";\nimport { hideRerolls } from \"../utils\";\nimport styles from \"./Reroll.module.css\";\nimport { Typography } from \"antd\";\n\nconst { Title } = Typography;\n\nconst Reroll = ({ dices, basePool, rerollType }) => {\n  const theme = rerollType === \"distinction\" ? \"green\" : \"orange\";\n  const title = `${\n    rerollType === \"distinction\" ? \"Distinction\" : \"Adversity\"\n  } Reroll`;\n\n  return (\n    <div className={styles.layout}>\n      <Title level={3} className={styles.title}>\n        {title}\n      </Title>\n      <div className={styles.container}>\n        <Dices\n          dices={dices.slice(0, basePool).map((dice) => {\n            return { ...dice, selected: dice.status === \"rerolled\" };\n          })}\n          theme={theme}\n        />\n        <div className={styles[\"arrow-right\"]}>{\"⇨\"}</div>\n        <div className={styles[\"arrow-down\"]}>{\"⇩\"}</div>\n        <Dices\n          dices={hideRerolls(dices)\n            .slice(0, basePool)\n            .map((dice) => {\n              const modifier = dice?.metadata?.modifier;\n              const fromReroll = modifier && dice.status !== \"rerolled\";\n\n              if (fromReroll) {\n                return { ...dice, selected: true };\n              }\n\n              return dice;\n            })}\n          theme={theme}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Reroll;\n","import React from \"react\";\nimport ExplosionDices from \"../ExplosionDices\";\n\nconst Keep = ({ dices, basePool }) => {\n  return (\n    <ExplosionDices\n      className=\"boxed\"\n      basePool={basePool}\n      dices={dices.map((dice) => {\n        const selected = dice.status === \"kept\";\n        return {\n          ...dice,\n          disabled: !selected,\n          selected,\n        };\n      })}\n    />\n  );\n};\n\nexport default Keep;\n","import React from \"react\";\nimport { Button, message } from \"antd\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { countDices } from \"../utils\";\n\nconst BbCode = ({ id, description, tn, dices }) => {\n  const buttonText = `Copy as BBCode`;\n\n  if (!id) {\n    return <Button disabled>{buttonText}</Button>;\n  }\n\n  const keptDices = dices.filter(({ status }) => {\n    return status === \"kept\";\n  });\n\n  const { successCount, opportunityCount, strifeCount } = countDices(keptDices);\n\n  const shortResult = `Success: [b]${successCount}[/b] / Opportunity: [b]${opportunityCount}[/b] / Strife:[b]${strifeCount}[/b]`;\n\n  const text = `[url=\"${\n    window.location.origin\n  }/rolls/${id}\"]${description}[/url] | TN: ${tn || \"?\"} | ${shortResult}`;\n\n  return (\n    <CopyToClipboard\n      text={text}\n      onCopy={() => message.success(\"Copied to clipboard!\")}\n    >\n      <Button>{buttonText}</Button>\n    </CopyToClipboard>\n  );\n};\n\nexport default BbCode;\n","import React from \"react\";\nimport { Button, message } from \"antd\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\n\nconst DirectLink = ({ id }) => {\n  const buttonText = `Copy link`;\n\n  if (!id) {\n    return <Button disabled>{buttonText}</Button>;\n  }\n\n  const text = `${window.location.origin}/rolls/${id}`;\n\n  return (\n    <CopyToClipboard\n      text={text}\n      onCopy={() => message.success(\"Copied to clipboard!\")}\n    >\n      <Button>{buttonText}</Button>\n    </CopyToClipboard>\n  );\n};\n\nexport default DirectLink;\n","import React from \"react\";\nimport Result from \"../Result\";\nimport BbCode from \"../button/BbCode\";\nimport styles from \"./Resolve.module.css\";\nimport Dices from \"../Dices\";\nimport { hideRerolls } from \"../utils\";\nimport DirectLink from \"../button/DirectLink\";\n\nconst Resolve = ({ dices, tn, description, id, button }) => {\n  return (\n    <div className={styles.layout}>\n      <div className={styles.container}>\n        <Dices\n          dices={hideRerolls(dices).filter(({ status }) => status === \"kept\")}\n          className={styles.dices}\n        />\n        <Result dices={dices} tn={tn} />\n        <div className={styles.buttons}>\n          <DirectLink id={id} />\n          <BbCode id={id} dices={dices} tn={tn} description={description} />\n          {button}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Resolve;\n","import React from \"react\";\nimport { Alert, Typography, Affix } from \"antd\";\n\nconst { Link, Paragraph } = Typography;\n\nconst AnonymousAlert = ({ className }) => {\n  return (\n    <Affix>\n      <Alert\n        className={className}\n        showIcon\n        closable\n        message={\"Mono no aware\"}\n        description={\n          <>\n            <Paragraph>\n              You are not logged in. While you can totally use the roller as a\n              guest, please take note that{\" \"}\n              <strong>any roll made won't be persisted</strong>.\n            </Paragraph>\n            <Paragraph>\n              You will need to <Link href=\"/login\">log in</Link> first if you\n              wish to keep and share your results.\n            </Paragraph>\n          </>\n        }\n        type=\"warning\"\n      />\n    </Affix>\n  );\n};\n\nexport default AnonymousAlert;\n","import React, { useEffect, useState } from \"react\";\nimport Intent from \"./Intent\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  selectAll,\n  create,\n  softReset,\n  keep,\n  reroll,\n  selectStep,\n  selectIntent,\n} from \"./reducer\";\nimport Keep from \"./Keep\";\nimport Distinction from \"./reroll/Distinction\";\nimport Adversity from \"./reroll/Adversity\";\nimport Summary from \"./Summary\";\nimport { Collapse } from \"antd\";\nimport styles from \"./index.module.css\";\nimport {\n  setId,\n  setParameters,\n  setDices,\n  setMetadata,\n  setPlayer,\n} from \"./reducer\";\nimport DefaultErrorMessage from \"../../DefaultErrorMessage\";\nimport NextButton from \"./NextButton\";\nimport { selectUser } from \"../user/reducer\";\nimport Steps, { DECLARE, REROLL, KEEP, RESOLVE } from \"./Steps\";\nimport RerollResult from \"./result/Reroll\";\nimport KeepResult from \"./result/Keep\";\nimport ResolveResult from \"./result/Resolve\";\nimport AnonymousAlert from \"./AnonymousAlert\";\n\nconst { Panel } = Collapse;\n\nconst Layout = ({ children }) => {\n  const user = useSelector(selectUser);\n  const currentStep = useSelector(selectStep);\n\n  return (\n    <>\n      {!user && <AnonymousAlert className={styles.alert} />}\n      <Steps current={currentStep} className={styles.steps} />\n      <>{children}</>\n    </>\n  );\n};\n\nconst Roller = ({ save }) => {\n  const roll = useSelector(selectAll);\n  const user = useSelector(selectUser);\n  const currentStep = useSelector(selectStep);\n  const intent = useSelector(selectIntent);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!save || !dispatch) {\n      return;\n    }\n    dispatch(setId(save.id));\n    dispatch(setParameters({ ...save, ...save.roll.parameters }));\n    dispatch(setDices(save.roll.dices));\n    dispatch(setMetadata(save.roll.metadata));\n    dispatch(setPlayer(save.user));\n  }, [save, dispatch]);\n\n  const [activeKeys, setActiveKeys] = useState([DECLARE]);\n  useEffect(() => {\n    // FIXME: Naming inconsistency\n    if (currentStep === REROLL) {\n      setActiveKeys([\"modify\"]);\n      return;\n    }\n    setActiveKeys([currentStep]);\n  }, [currentStep]);\n\n  const { dices, tn, modifiers, ring, skill, error, id, description } = roll;\n\n  const compromised = modifiers.includes(\"compromised\");\n  const voided = modifiers.includes(\"void\");\n  const basePool = ring + skill + (voided ? 1 : 0);\n  const rerollType =\n    (modifiers.includes(\"distinction\") && \"distinction\") ||\n    (modifiers.includes(\"adversity\") && \"adversity\");\n\n  if (error) {\n    return <DefaultErrorMessage />;\n  }\n\n  const disabled = (panel) => {\n    if (panel === RESOLVE) {\n      return currentStep !== RESOLVE;\n    }\n\n    if (panel === KEEP) {\n      return ![KEEP, RESOLVE].includes(currentStep);\n    }\n\n    if (panel === REROLL) {\n      return !rerollType || currentStep === DECLARE;\n    }\n\n    return false;\n  };\n\n  const PanelContent = ({ name }) => {\n    if (disabled(name)) {\n      return null;\n    }\n\n    if (name === RESOLVE) {\n      return (\n        <ResolveResult\n          dices={dices}\n          tn={tn}\n          button={\n            <NextButton onClick={() => dispatch(softReset())}>\n              New roll\n            </NextButton>\n          }\n          id={id}\n          description={description}\n        />\n      );\n    }\n\n    if (name === KEEP) {\n      if (currentStep === KEEP) {\n        return (\n          <Keep\n            dices={dices}\n            onFinish={(data) => dispatch(keep(roll, data))}\n            compromised={compromised}\n            tn={tn}\n            ring={ring}\n            skill={skill}\n            voided={voided}\n          />\n        );\n      }\n      return <KeepResult dices={dices} basePool={basePool} />;\n    }\n\n    if (name === REROLL) {\n      if (currentStep === REROLL) {\n        return (\n          <>\n            {modifiers.includes(\"distinction\") && (\n              <Distinction\n                dices={dices}\n                onFinish={(positions) =>\n                  dispatch(reroll(roll, positions, \"distinction\"))\n                }\n              />\n            )}\n            {modifiers.includes(\"adversity\") && (\n              <Adversity\n                dices={dices}\n                onFinish={(positions) =>\n                  dispatch(reroll(roll, positions, \"adversity\"))\n                }\n              />\n            )}\n          </>\n        );\n      }\n      return (\n        <RerollResult\n          dices={dices}\n          basePool={basePool}\n          rerollType={rerollType}\n        />\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <Layout>\n      <Collapse activeKey={activeKeys} onChange={setActiveKeys}>\n        <Panel header=\"Declare\" key=\"declare\">\n          {currentStep === DECLARE ? (\n            <Intent\n              onFinish={(data) => dispatch(create({ ...roll, ...data }, user))}\n              values={roll}\n            />\n          ) : (\n            <Summary {...intent} />\n          )}\n        </Panel>\n        <Panel header=\"Modify\" key=\"modify\" disabled={disabled(REROLL)}>\n          <PanelContent name={REROLL} />\n        </Panel>\n        <Panel header=\"Keep\" key=\"keep\" disabled={disabled(KEEP)}>\n          <PanelContent name={KEEP} />\n        </Panel>\n        <Panel header=\"Resolve\" key=\"resolve\" disabled={disabled(RESOLVE)}>\n          <PanelContent name={RESOLVE} />\n        </Panel>\n      </Collapse>\n    </Layout>\n  );\n};\n\nexport default Roller;\n","import React, { useState, useEffect } from \"react\";\nimport { Layout, Menu } from \"antd\";\nimport logo from \"./logo.png\";\nimport styles from \"./Layout.module.css\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../user/reducer\";\n\nconst { Header, Content, Footer } = Layout;\n\nconst CustomLayout = ({ children }) => {\n  const user = useSelector(selectUser);\n  const location = useLocation();\n  const [selectedKey, setSelectedKey] = useState();\n\n  useEffect(() => {\n    const getMenuKey = ({ pathname, search }) => {\n      if (pathname === \"/\") {\n        return \"new_roll\";\n      }\n\n      if (pathname === \"/rolls\" && !search) {\n        return \"all_rolls\";\n      }\n\n      if (pathname === \"/rolls\" && !!user && search === `?player=${user.id}`) {\n        return \"my_rolls\";\n      }\n\n      return null;\n    };\n\n    setSelectedKey(getMenuKey(location));\n  }, [location, user]);\n\n  return (\n    <Layout className={styles.layout}>\n      <Header>\n        <Menu\n          theme=\"dark\"\n          mode=\"horizontal\"\n          selectedKeys={[selectedKey]}\n          onSelect={({ key }) => setSelectedKey(key)}\n        >\n          <Menu.Item className={styles.logo} key=\"home\">\n            <Link to=\"/\">\n              <img alt=\"Logo\" src={logo} />\n            </Link>\n          </Menu.Item>\n          <Menu.Item key=\"new_roll\">\n            <Link to=\"/\">Roll</Link>\n          </Menu.Item>\n          <Menu.Item key=\"all_rolls\">\n            <Link to=\"/rolls\">All rolls</Link>\n          </Menu.Item>\n          {user && (\n            <Menu.Item key=\"my_rolls\">\n              <Link to={`/rolls?player=${user.id}`}>My rolls</Link>\n            </Menu.Item>\n          )}\n          <Menu.Item className={styles.login}>\n            {user ? (\n              <a href=\"/user/profile\">{user.name}</a>\n            ) : (\n              <a href=\"/login\">Login</a>\n            )}\n          </Menu.Item>\n        </Menu>\n      </Header>\n      <Content>{children}</Content>\n      <Footer className={styles.footer}>\n        {`Sakkaku Project / 2020 / `}\n        <a href=\"mailto:contact.sakkaku@gmail.com\">Issue? Suggestion?</a>\n      </Footer>\n    </Layout>\n  );\n};\n\nexport default CustomLayout;\n","import React from \"react\";\nimport opportunityImage from \"./images/opportunity.png\";\nimport strifeImage from \"./images/strife.png\";\nimport successImage from \"./images/success.png\";\nimport styles from \"./Result.module.css\";\n\nconst Result = ({ opportunity, success, strife }) => {\n  return (\n    <span className={styles.result}>\n      <img src={successImage} title=\"Success\" alt=\"Success\" />\n      <span>{`: ${success}, `}</span>\n      <img src={opportunityImage} title=\"Opportunity\" alt=\"Opportunity\" />\n      <span>{`: ${opportunity}, `}</span>\n      <img src={strifeImage} title=\"Strife\" alt=\"Strife\" />\n      <span>{`: ${strife}`}</span>\n    </span>\n  );\n};\n\nexport default Result;\n","import React from \"react\";\nimport { Spin } from \"antd\";\nimport styles from \"./Loader.module.css\";\n\nconst Loader = () => {\n  return (\n    <div className={styles.container}>\n      <Spin className={styles.loader} size=\"large\" />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { useEffect, useState } from \"react\";\nimport { Table, Typography, Pagination } from \"antd\";\nimport { getOnServer } from \"../../server\";\nimport Result from \"./Result\";\nimport queryString from \"query-string\";\nimport styles from \"./List.module.css\";\nimport DefaultErrorMessage from \"../../DefaultErrorMessage\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport Loader from \"../navigation/Loader\";\n\nconst { Text } = Typography;\n\nconst columns = [\n  {\n    title: \"Date\",\n    dataIndex: \"date\",\n    key: \"date\",\n    render: (date) => {\n      return (\n        <Text>\n          <span>{new Date(date).toLocaleDateString()}</span>\n          <span className={styles.time}>\n            {\" \"}\n            {new Date(date).toLocaleTimeString(undefined, {\n              hour: \"2-digit\",\n              minute: \"2-digit\",\n              second: \"2-digit\",\n              timeZoneName: \"short\",\n            })}\n          </span>\n        </Text>\n      );\n    },\n  },\n  {\n    title: \"Campaign\",\n    dataIndex: \"campaign\",\n    key: \"campaign\",\n    render: (campaign) => {\n      return (\n        <Link to={`/rolls?${queryString.stringify({ campaign })}`}>\n          {campaign}\n        </Link>\n      );\n    },\n  },\n  {\n    title: \"Character\",\n    dataIndex: \"character\",\n    key: \"character\",\n    render: ({ character, campaign }) => {\n      return (\n        <Link to={`/rolls?${queryString.stringify({ campaign, character })}`}>\n          {character}\n        </Link>\n      );\n    },\n  },\n  {\n    title: \"Player\",\n    dataIndex: \"player\",\n    key: \"player\",\n    render: (player) => {\n      if (!player) {\n        return <Text delete>Deleted account</Text>;\n      }\n\n      return (\n        <Link to={`/rolls?${queryString.stringify({ player: player.id })}`}>\n          {player.name}\n        </Link>\n      );\n    },\n    responsive: [\"md\"],\n  },\n  {\n    title: \"Description\",\n    dataIndex: \"description\",\n    key: \"description\",\n    responsive: [\"lg\"],\n  },\n  {\n    title: \"Result\",\n    dataIndex: \"result\",\n    key: \"result\",\n    width: 200,\n    render: (result) => {\n      return (\n        <>\n          {result ? (\n            <Result {...result} />\n          ) : (\n            <Text type=\"secondary\">Ongoing…</Text>\n          )}\n        </>\n      );\n    },\n    responsive: [\"md\"],\n  },\n  {\n    title: \"Success?\",\n    dataIndex: \"success\",\n    key: \"success\",\n    align: \"center\",\n    render: ({ result, tn }) => {\n      if (!result) {\n        return <Text type=\"secondary\">{\"TBD\"}</Text>;\n      }\n\n      if (!tn) {\n        return <Text>{\"?\"}</Text>;\n      }\n\n      return result.success >= tn ? (\n        <Text type=\"success\">{\"Yes\"}</Text>\n      ) : (\n        <Text type=\"danger\">{\"No\"}</Text>\n      );\n    },\n    responsive: [\"md\"],\n  },\n  {\n    title: \"\",\n    dataIndex: \"see_more\",\n    key: \"see_more\",\n    render: ({ id }) => {\n      return (\n        <Link\n          title=\"See more\"\n          to={`/rolls/${id}`}\n          className={styles[\"see-more\"]}\n        >\n          {\"➥\"}\n        </Link>\n      );\n    },\n  },\n];\n\nconst List = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [data, setData] = useState();\n  const location = useLocation();\n  const history = useHistory();\n\n  const query = queryString.parse(location.search);\n  const page = parseInt(query[\"page\"]) || 1;\n  const uri = `/public/ffg/l5r/rolls?${queryString.stringify({\n    ...query,\n    page,\n  })}`;\n\n  useEffect(() => {\n    setLoading(true);\n    getOnServer({\n      uri,\n      success: (data) => {\n        setData(data);\n        setLoading(false);\n      },\n      error: (_) => {\n        setError(true);\n        setLoading(false);\n      },\n    });\n  }, [uri]);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    return <DefaultErrorMessage />;\n  }\n\n  if (!data) {\n    return null;\n  }\n\n  const dataSource = data.items.map(\n    ({\n      id,\n      created_at,\n      campaign,\n      character,\n      user,\n      description,\n      result,\n      roll,\n    }) => {\n      const tn = roll.parameters.tn;\n\n      return {\n        key: id,\n        date: created_at,\n        campaign,\n        character: { campaign, character },\n        player: user,\n        description,\n        result,\n        success: { result, tn },\n        see_more: { id },\n      };\n    }\n  );\n\n  const pageLink = (pageNumber) => {\n    return `/rolls?${queryString.stringify({\n      ...queryString.parse(window.location.search),\n      page: pageNumber,\n    })}`;\n  };\n\n  return (\n    <>\n      <Table columns={columns} dataSource={dataSource} pagination={false} />\n      <Pagination\n        className={styles.pagination}\n        simple\n        pageSize={data[\"per_page\"]}\n        current={page}\n        total={data[\"total\"]}\n        itemRender={(_, type, originalElement) => {\n          if (type === \"prev\") {\n            return <Link to={pageLink(page - 1)}>{\"<\"}</Link>;\n          }\n          if (type === \"next\") {\n            return <Link to={pageLink(page + 1)}>{\">\"}</Link>;\n          }\n          return originalElement;\n        }}\n        onChange={(pageNumber) => {\n          history.push(pageLink(pageNumber));\n        }}\n      />\n    </>\n  );\n};\n\nexport default List;\n","import React from \"react\";\nimport Reroll from \"./result/Reroll\";\nimport Keep from \"./result/Keep\";\nimport Resolve from \"./result/Resolve\";\nimport { Collapse } from \"antd\";\nimport Summary from \"./Summary\";\n\nconst { Panel } = Collapse;\n\nconst Complete = ({ dices, button, intent, context, player }) => {\n  const { tn, ring, skill, modifiers } = intent;\n  const { id, description } = context;\n\n  const voided = modifiers.includes(\"void\");\n  const basePool = ring + skill + (voided ? 1 : 0);\n  const rerollType =\n    (modifiers.includes(\"distinction\") && \"distinction\") ||\n    (modifiers.includes(\"adversity\") && \"adversity\");\n\n  return (\n    <Collapse defaultActiveKey={[\"declare\", \"resolve\"]}>\n      <Panel header=\"Declare\" key=\"declare\">\n        <Summary {...context} {...intent} player={player} />\n      </Panel>\n\n      <Panel header=\"Modify\" key=\"modify\" disabled={!rerollType}>\n        {rerollType && (\n          <Reroll dices={dices} basePool={basePool} rerollType={rerollType} />\n        )}\n      </Panel>\n\n      <Panel header=\"Keep\" key=\"keep\">\n        <Keep dices={dices} basePool={basePool} />\n      </Panel>\n      <Panel header=\"Resolve\" key=\"resolve\">\n        <Resolve\n          dices={dices}\n          tn={tn}\n          button={button}\n          id={id}\n          description={description}\n        />\n      </Panel>\n    </Collapse>\n  );\n};\n\nexport default Complete;\n","import React from \"react\";\nimport { Breadcrumb, Typography } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Breadcrumb.module.css\";\n\nconst { Text } = Typography;\n\nconst CustomBreadcrumb = ({ campaign, character, description }) => {\n  return (\n    <Breadcrumb className={styles.container}>\n      <Breadcrumb.Item>\n        <Link to={`/rolls`}>{\"All rolls\"}</Link>\n      </Breadcrumb.Item>\n      <Breadcrumb.Item>\n        <Link to={`/rolls?campaign=${campaign}`}>{campaign}</Link>\n      </Breadcrumb.Item>\n      <Breadcrumb.Item>\n        <Link to={`/rolls?campaign=${campaign}&character=${character}`}>\n          {character}\n        </Link>\n      </Breadcrumb.Item>\n      <Breadcrumb.Item className={styles.description}>\n        <Text ellipsis>{description}</Text>\n      </Breadcrumb.Item>\n    </Breadcrumb>\n  );\n};\n\nexport default CustomBreadcrumb;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Button, Card } from \"antd\";\nimport { getOnServer } from \"../../server\";\nimport DefaultErrorMessage from \"../../DefaultErrorMessage\";\nimport Complete from \"./Complete\";\nimport Summary from \"./Summary\";\nimport DicesBox from \"./DicesBox\";\nimport Roller from \"./index\";\nimport Loader from \"../navigation/Loader\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../user/reducer\";\nimport Breadcrumb from \"./Breadcrumb\";\n\nconst GoBackButton = (props) => {\n  const history = useHistory();\n  return (\n    <Button\n      onClick={() => {\n        history.length > 2 ? history.goBack() : history.push(\"/rolls\");\n      }}\n      {...props}\n    >{`Go back`}</Button>\n  );\n};\n\nconst IdentifiedRoll = () => {\n  const { id } = useParams();\n  const user = useSelector(selectUser);\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [data, setData] = useState();\n\n  useEffect(() => {\n    setLoading(true);\n    getOnServer({\n      uri: `/public/ffg/l5r/rolls/${id}`,\n      success: (data) => {\n        setData(data);\n        setLoading(false);\n      },\n      error: (_) => {\n        setLoading(false);\n        setError(true);\n      },\n    });\n  }, [id]);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    return <DefaultErrorMessage />;\n  }\n\n  if (!data) {\n    return null;\n  }\n\n  const { roll, user: player, result } = data;\n  const { dices, parameters } = roll;\n  const { campaign, character, description } = data;\n\n  if (!result && user && player && user.id === player.id) {\n    return <Roller save={data} />;\n  }\n\n  return (\n    <>\n      <Breadcrumb\n        campaign={campaign}\n        character={character}\n        description={description}\n      />\n      {result ? (\n        <Complete\n          dices={dices}\n          button={<GoBackButton />}\n          intent={parameters}\n          context={data}\n          player={player}\n        />\n      ) : (\n        <>\n          <Card bordered={false}>\n            <Summary player={player} {...data} {...parameters} />\n          </Card>\n          <DicesBox\n            text={`Check in progress. Current dice pool:`}\n            dices={dices.map((dice) => {\n              const selected = dice.status === \"kept\";\n              const disabled = ![\"kept\", \"pending\"].includes(dice.status);\n              return {\n                ...dice,\n                disabled,\n                selected,\n              };\n            })}\n            footer={<GoBackButton style={{ float: \"right\" }} />}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default IdentifiedRoll;\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport Roller from \"./features/roller\";\nimport Layout from \"./features/navigation/Layout\";\nimport { getOnServer } from \"./server\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport List from \"./features/browse/List\";\nimport IdentifiedRoll from \"./features/roller/IdentifiedRoll\";\nimport { useDispatch } from \"react-redux\";\nimport { setUser } from \"./features/user/reducer\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    getOnServer({\n      uri: \"/user\",\n      success: (data) => {\n        dispatch(setUser(data));\n      },\n      error: (_) => {},\n    });\n  }, [dispatch]);\n\n  return (\n    <Router>\n      <Layout>\n        <Switch>\n          <Route path=\"/rolls/:id\">\n            <IdentifiedRoll />\n          </Route>\n          <Route path=\"/rolls\">\n            <List />\n          </Route>\n          <Route path=\"/\">\n            <Roller />\n          </Route>\n        </Switch>\n      </Layout>\n    </Router>\n  );\n};\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport rollerReducer from \"../features/roller/reducer\";\nimport userReducer from \"../features/user/reducer\";\n\nexport default configureStore({\n  reducer: {\n    roll: rollerReducer,\n    user: userReducer,\n  },\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./app/store\";\nimport { Provider } from \"react-redux\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dices\":\"Dices_dices__1Cijf\",\"dice\":\"Dices_dice__cqowQ\",\"selectable\":\"Dices_selectable__2UH3q\",\"selected\":\"Dices_selected__1Gb1I\",\"unselectable\":\"Dices_unselectable__KQSGp\",\"theme-orange\":\"Dices_theme-orange__1IzWT\",\"theme-green\":\"Dices_theme-green__2UAjn\",\"theme-gray\":\"Dices_theme-gray__k0B1L\",\"theme-shiny\":\"Dices_theme-shiny__5M1Hc\",\"explosion\":\"Dices_explosion__3t8yW\"};"],"sourceRoot":""}