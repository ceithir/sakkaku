(this.webpackJsonpsakkaku=this.webpackJsonpsakkaku||[]).push([[0],{120:function(e,t,a){e.exports={layout:"Layout_layout__UFIxE",logo:"Layout_logo__1Oa8g",footer:"Layout_footer__1d2pN",login:"Layout_login__2luPa"}},162:function(e,t,a){e.exports={layout:"Keep_layout__3iSnl",figures:"Keep_figures__29jyx","add-kept-form":"Keep_add-kept-form__3VbB8"}},163:function(e,t,a){e.exports={layout:"Resolve_layout__6Gw1E",container:"Resolve_container__3LORR",dices:"Resolve_dices__3Mfsg"}},164:function(e,t,a){e.exports={pagination:"List_pagination__30JOr","see-more":"List_see-more__3H9Sv",time:"List_time__3D77V"}},176:function(e,t,a){e.exports={layout:"NextButton_layout__1V0iF"}},178:function(e,t,a){e.exports={group:"DiceSideSelector_group__2wbOR"}},179:function(e,t,a){e.exports={dices:"Summary_dices__1WJbN"}},183:function(e,t,a){e.exports={alert:"roller_alert__a7FQm",steps:"roller_steps__37v8v"}},184:function(e,t,a){e.exports={container:"Loader_container__3tlr0",loader:"Loader_loader__Jgwkb"}},185:function(e,t,a){e.exports={container:"Breadcrumb_container__1pLMq",description:"Breadcrumb_description__3x45S"}},206:function(e,t,a){e.exports={form:"Intent_form__3Tlpw"}},208:function(e,t,a){e.exports={steps:"Steps_steps__xQjGe"}},210:function(e,t,a){e.exports=a.p+"static/media/black.f14fed51.png"},211:function(e,t,a){e.exports=a.p+"static/media/blackot.3a5ad7bb.png"},212:function(e,t,a){e.exports=a.p+"static/media/blackst.3fad8195.png"},213:function(e,t,a){e.exports=a.p+"static/media/blacket.f0ca3076.png"},214:function(e,t,a){e.exports=a.p+"static/media/blacko.e44a1dd0.png"},215:function(e,t,a){e.exports=a.p+"static/media/blacks.216d4546.png"},216:function(e,t,a){e.exports=a.p+"static/media/white.c24c0c51.png"},217:function(e,t,a){e.exports=a.p+"static/media/whitee.7755ca79.png"},218:function(e,t,a){e.exports=a.p+"static/media/whiteet.d10cd0cc.png"},219:function(e,t,a){e.exports=a.p+"static/media/whiteo.1e81fee0.png"},220:function(e,t,a){e.exports=a.p+"static/media/whites.7cb9db03.png"},221:function(e,t,a){e.exports=a.p+"static/media/whiteso.f76a057b.png"},222:function(e,t,a){e.exports=a.p+"static/media/whitest.05051e66.png"},227:function(e,t,a){e.exports={"pseudo-radio":"DynamicDiceSelector_pseudo-radio__3_xZn"}},235:function(e,t,a){e.exports={layout:"Result_layout__1eJNj"}},242:function(e,t,a){e.exports={buttons:"LineContainer_buttons__2C_Fm"}},244:function(e,t,a){e.exports={alterators:"Ishiken_alterators__37a44"}},245:function(e,t,a){e.exports={list:"Alter_list__3b8nO"}},246:function(e,t,a){e.exports=a.p+"static/media/logo.20098cc4.png"},248:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MmE4YTQ0ZS1mZjAwLTQ1NjItYmIyMy02OTk2Njk5MTA2MTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTc1NUVDRkUzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTc1NUVDRkQzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphNDY0ZTAxMy1kYTg0LTRiNzUtOTg2NC0wYzQyOGYxYWE2MDgiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MGI5YTBiMC04NGY3LTU0NDctYjkx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"},249:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MmE4YTQ0ZS1mZjAwLTQ1NjItYmIyMy02OTk2Njk5MTA2MTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REUyNDExOEIzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REUyNDExOEEzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphNDY0ZTAxMy1kYTg0LTRiNzUtOTg2NC0wYzQyOGYxYWE2MDgiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MGI5YTBiMC04NGY3LTU0NDctYjkx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"},250:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MmE4YTQ0ZS1mZjAwLTQ1NjItYmIyMy02OTk2Njk5MTA2MTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTc1NUVDRkEzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTc1NUVDRjkzRjI5MTFFOEFBNjI5MDM0RDBDRjYxQjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphNDY0ZTAxMy1kYTg0LTRiNzUtOTg2NC0wYzQyOGYxYWE2MDgiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MGI5YTBiMC04NGY3LTU0NDctYjkxMi0zNTM4YjhhODdmZmEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7o8HzfAAAFIUlEQVR42uydi3GbQBCGF00aoAVSAikBl0BKICWQEuQSSAlWCagEqwSpBCjB4TLHDHYkwd7uPbjbf+ZmbI8t4f3YF7pH9vHxAaJwdBATCBCRABEgIkN9o75AlmU+rjufRqlHoYdSded3L9MYp3Gexk1/f+O6EO6iKKO+oCMguTb2PAri681gLhrUJRQg/16QMiyrmcabukzLY5hGpz3Oqf3+s2eAQEptnMEBiHvjXd8ISQNRIaidxtUThEdgKtdAfOSQWgOoFh6RB1z4vOoxxpZD6sA8AOstZSwhS3lDv1MQXxN/s3cgrcfkbGsc95hDcl2uVpbi+rKPGPX3twcNX74IN+Uif1F6GdW7/FTvvYccUlrIFVddCjcMTeEyp/XUvBJ6yGoYQ5Rxs4ZURQCjrrEKFUjDCKL1UArXhJupCQ1Iw5gwffYkOcFbulCAlAxh6mqxADBRZ/h/KJi5NyD6jqIm8C7QTr0hJPvcFxDqk9g28M+LTPPKYFqBUWDURBgN7EOmIdnIUyihagCmbncHMk32R1dAjsSGaq8ySfaFVSC6U6aEqhL2LSyU3jYQSiLvYP8yqSwrK0B0r0DxjgLiUGPLS7BA+sS9Y+kl2KKmZAXCkDsqiEvYXNJxA+mA9mgkNmHD97ClL8H0HSk0gVhhy/+GC0hLgNFDvMJWXB0ZCENX3kLcwjxCGoyA6PjYAs8MwiJmGgbVZ2kChOtj2C5y75jt1XDlERvl7aennSkA0XbbmkuePnC8t2CHI8So6Tkv8GD6ZaT6g3icv06Y0UOS8Iw7HrLVboNJDhEYSCDabu9b7IQNWRT9SixMfdVpyy9lWfYwbB2e5ACTvHGBtHVGNJQoICZ3+S1xGCrkXKgRghNI6t6BCluuQpaIaAfOpH4WFvaA3ASGnzzClUMkXDHZgyuHjMLAIpDJ7cTANLGHLOkrAgtZWCDiUUw6MFEWb8JVYmcTIJi7vhQzf1Lu20MKYbDZHhcB4l6laXg/PIlzIyI3VMJgMxBjD1E6MV1EMsqyLF+JGGcKEEzYqgXHqh1G/azLDMj0xydEtSVA1iPFesRhXk+YXC5BTrstOeb2YqYFvSUO5NkMxp5tfQjg5q4WCQN5ZqeKEwhmhnefIpCVSMK/xhBw6yCqBIF0QFxfiAWCmeF9TQnIine01tapI72kTQjIoxVmb1a31gD8+uwUuvdH3uFm8xlkxTWAn8nXuS5EWn29/Z3+YNA/74g5rwOf2zMBfjmwyxnxBZgvw+sNPLrihEHZDQi734mLpW2UlcKfjIl4z3vRonG+xZ++E4dAoOSwcV0Gs0e3YGF3UsqOcq1hWOAOX5wwtm6wdu+GbLzvSgpmG2BeGauvI9jb473cmDtIOYMbCGXfRWqfUlmEsfkRUIhbjV+Bvp24yZ7uLo7AqPYIpGW+K/OV2N0yvyfJS0IEUlg2Qg7uTmtDP20I9XQEX8ZyMVqXQLhWUJ1AxCJOIDK/NyAgSq9izrCAqM1XYlxr6HSpBfehYAXEt9/J92fhmPtQMO69TtSFx7Qt09l1brRxwL2aKvkjkvDlvnq0fLBkA/s9bvXqwn6+Touud9g81j6AuD4tev6suwT6aZu2Q9XPrUBCrrKwKjSgGsKZoTLqympMEchSS69ZnrfuGsYLINbF7Pk8dVMPasDOx7TUCQ5R5BCq5tA2D64GVD1l+G3SP8Ucskw0H81d6K+XR3XnT+74ueG76AQ+UiJMUEBE4XfqIgEiQEQCRICIPOivAAMA3yRcglkl3R0AAAAASUVORK5CYII="},251:function(e,t,a){e.exports={result:"Result_result__pmIP7"}},266:function(e,t,a){e.exports=a(441)},271:function(e,t,a){},272:function(e,t,a){},441:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),i=a.n(l),o=(a(271),a(272),a(34)),c=a(31),s=a(62),u=a.n(s),d=a(97),m=a(29),p=a(454),f=a(453),h=a(450),b=a(444),g=a(457),E=a(445),y=a(460),v=a(157),k=a(78),A=a(206),j=a.n(A),I=a(263),O=a(79),C=a(176),S=a.n(C),w=a(35),x=a(111),R=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,l,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uri,n=t.method,r=t.body,l=t.success,i=t.error,o={Accept:"application/json"},r&&(o["Content-Type"]="application/json"),e.prev=3,e.next=6,fetch("".concat("/api").concat(a),{method:n,headers:o,body:r?JSON.stringify(r):void 0});case 6:if((c=e.sent).ok){e.next=9;break}throw new Error("Bad status: ".concat(c.status));case 9:return e.next=11,c.json();case 11:s=e.sent,l(s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),i?i(e.t0):console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uri,n=t.body,r=t.success,l=t.error,e.abrupt("return",R({uri:a,method:"POST",body:n,success:r,error:l}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uri,n=t.success,r=t.error,e.abrupt("return",R({uri:a,method:"GET",success:n,error:r}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,l,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uri,n=t.body,r=t.success,l=t.error,e.prev=1,e.next=4,fetch("".concat("/api").concat(a),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-XSRF-TOKEN":decodeURIComponent(document.cookie.match("(^|;) ?XSRF-TOKEN=([^;]*)(;|$)")[2])},body:JSON.stringify(n)});case 4:if((i=e.sent).ok){e.next=7;break}throw new Error("Bad status: ".concat(i.status));case 7:return e.next=9,i.json();case 9:o=e.sent,r(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),l?l(e.t0):console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),N=a(56),M=a(451),Y=a(208),F=a.n(Y),B=a(1),U=a.n(B),Q="declare",Z="reroll",P="keep",V="resolve",L=M.a.Step,J=function(e){var t=e.current,a=e.className;return r.a.createElement(M.a,{current:[Q,Z,P,V].indexOf(t),className:U()(F.a.steps,Object(N.a)({},a,!!a))},r.a.createElement(L,{title:"Declare",description:"Declare Intention"}),r.a.createElement(L,{title:"Modify",description:"Modify Rolled Dice"}),r.a.createElement(L,{title:"Keep",description:"Choose Kept Dice"}),r.a.createElement(L,{title:"Resolve",description:"Resolve Symbols"}))},W=["adversity","distinction","shadow","deathdealer","manipulator","ishiken","2heavens","ruthless","sailor"],_=function(e){return!(!z(e)&&!H(e))||W.includes(e)},z=function(e){return/^ruleless([0-9]{2})?$/.test(e)},H=function(e){return/^reasonless([0-9]{2})?$/.test(e)},K=function(e){var t=e.ring,a=e.skill,n=e.modifiers;return X({ring:t,modifiers:n})+a},X=function(e){return e.ring+(e.modifiers.includes("void")?1:0)},q=function(e){return["ishiken"].includes(e)||H(e)},$=function(e){return{successCount:e.reduce((function(e,t){return e+(t.value.explosion||0)+(t.value.success||0)}),0),opportunityCount:e.reduce((function(e,t){return e+(t.value.opportunity||0)}),0),strifeCount:e.reduce((function(e,t){return e+(t.value.strife||0)}),0),blankCount:e.filter((function(e){var t=e.value,a=t.strife,n=t.opportunity,r=t.success,l=t.explosion;return 0===a&&0===n&&0===r&&0===l})).length}},ee=function(e){var t=Object(m.a)(e);return t.sort((function(e,t){return"ring"===e.type&&"skill"===t.type?-1:"ring"===t.type&&"skill"===e.type?1:0})),t},te=function(e,t){var a=e.status,n=e.metadata;return"rerolled"===a&&(n.end?n.end===t:n.modifier===t)},ae=function(e,t){var a=e.status,n=e.metadata;return n.source||n.end||!n.modifier?n.source===t:"rerolled"!==a&&n.modifier===t},ne=function e(t){var a=t.dices,n=t.rerollType,r=t.previousRerollTypes,l=void 0===r?[]:r,i=t.basePool,o=a.filter((function(e){return ae(e,n)})),c=o.filter((function(e){return"ring"===e.type})),s=o.filter((function(e){return"skill"===e.type}));return function(){if(0===l.length)return a.slice(0,i);var t=Object(m.a)(l),n=t.pop();return e({dices:a,rerollType:n,previousRerollTypes:t,basePool:i})}().map((function(e){return function(e){return te(e,n)}(e)?("skill"===e.type?s:c).shift():e}))},re=function(e){var t=e.dices,a=e.rerollTypes,n=e.basePool,r=t.filter((function(e){return"rerolled"===e.status})).length;if(0===r)return t;var l=Object(m.a)(a),i=l.pop();return[].concat(Object(m.a)(ne({dices:t,rerollType:i,previousRerollTypes:l,basePool:n})),Object(m.a)(t.slice(n+r)))},le={tn:3,ring:3,skill:1,modifiers:[],dices:[],metadata:{},loading:!1,error:!1,toKeep:[],channeled:[],addkept:[],explicitGoToKeep:!1},ie=Object(x.b)({name:"roll",initialState:le,reducers:{softReset:function(e){e.tn=le.tn,e.ring=le.ring,e.skill=le.skill,e.description=null,e.dices=[],e.metadata={},e.modifiers=[],e.toKeep=[],e.channeled=[],e.addkept=[],e.explicitGoToKeep=!1,e.id=null,window.history.pushState(null,null,"/")},setParameters:function(e,t){var a=t.payload,n=a.campaign,r=a.character,l=a.description,i=a.tn,o=a.ring,c=a.skill,s=a.modifiers,u=a.channeled,d=a.addkept;e.campaign=n,e.character=r,e.description=l,e.tn=i,e.ring=o,e.skill=c,e.modifiers=s,e.channeled=u,e.addkept=d},setLoading:function(e,t){e.loading=t.payload},setError:function(e,t){e.error=t.payload},setAnimatedStep:function(e,t){e.animatedStep=t.payload},load:function(e,t){var a=t.payload,n=a.id,r=a.player,l=a.dices,i=a.metadata;e.id=n,e.player=r,e.dices=l,e.metadata=i,e.loading=!1,window.history.pushState(null,null,"/rolls/".concat(n)),e.toKeep=[]},update:function(e,t){var a=t.payload,n=a.dices,r=a.metadata;e.dices=n,e.metadata=r,e.loading=!1,e.toKeep=[]},setToKeep:function(e,t){e.toKeep=t.payload},setAddKept:function(e,t){e.addkept=t.payload},goToKeepStep:function(e){e.explicitGoToKeep=!0},setModifiers:function(e,t){e.modifiers=t.payload}}}),oe=ie.actions,ce=oe.setParameters,se=oe.setLoading,ue=oe.softReset,de=oe.setAnimatedStep,me=oe.load,pe=oe.setToKeep,fe=oe.setAddKept,he=oe.goToKeepStep,be=ie.actions,ge=be.update,Ee=be.setError,ye=be.setModifiers,ve=function(e,t,a){return function(n){n(se(!0));var r=function(e){n(ge(e))},l=function(){n(Ee(!0))},i=e.id;if(i)T({uri:"/ffg/l5r/rolls/".concat(i,"/reroll"),body:{positions:t,modifier:a},success:r,error:l});else{var o=e.tn,c=e.ring,s=e.skill,u=e.modifiers,d=e.dices,m=e.metadata;G({uri:"/public/ffg/l5r/rolls/reroll",body:{roll:{parameters:{tn:o,ring:c,skill:s,modifiers:u},dices:d,metadata:m},positions:t,modifier:a},success:r,error:l})}}},ke=function(e,t,a){return function(n){n(se(!0));var r=function(e){n(ge(e))},l=function(){n(Ee(!0))},i=e.id;if(i)T({uri:"/ffg/l5r/rolls/".concat(i,"/alter"),body:{alterations:t,modifier:a},success:r,error:l});else{var o=e.tn,c=e.ring,s=e.skill,u=e.modifiers,d=e.dices,m=e.metadata;G({uri:"/public/ffg/l5r/rolls/alter",body:{roll:{parameters:{tn:o,ring:c,skill:s,modifiers:u},dices:d,metadata:m},alterations:t,modifier:a},success:r,error:l})}}},Ae=function(e,t){return function(a){a(se(!0));var n=e.id,r=e.modifiers,l=[].concat(Object(m.a)(r),Object(m.a)(t));n?T({uri:"/ffg/l5r/rolls/".concat(n,"/parameters"),body:{modifiers:l},success:function(e){var t=e.parameters.modifiers;a(ye(t)),a(se(!1))},error:function(){a(Ee(!0))}}):(a(ye(l)),a(se(!1)))}},je=function(e){return e.roll},Ie=function(e){return e.roll.loading},Oe=function(e){var t,a=e.roll,n=a.dices,r=a.metadata,l=a.modifiers,i=a.animatedStep,o=a.explicitGoToKeep;if(i)return i;var c=n.length>0,s=c&&n.some((function(e){return"pending"===e.status})),u=l.filter(_),d=u.length>0,m=!d||(null===r||void 0===r||null===(t=r.rerolls)||void 0===t?void 0:t.length)===u.length;return c&&m&&!s?V:c&&m?o?P:Z:c&&d?Z:Q},Ce=function(e){var t=e.roll;return{campaign:t.campaign,character:t.character,description:t.description,tn:t.tn,ring:t.ring,skill:t.skill,modifiers:t.modifiers,player:t.player,channeled:t.channeled,addkept:t.addkept}},Se=function(e){return e.roll.loading&&!e.roll.animatedStep},we=function(e){return e.roll.toKeep},xe=ie.reducer,Re=function(e){var t=e.children,a=e.disabled,n=Object(I.a)(e,["children","disabled"]),l=Object(w.c)(Ie);return r.a.createElement("div",{className:S.a.layout},r.a.createElement(O.a,Object.assign({type:"primary",className:S.a.button,disabled:a||l},n),t))},Ge=Object(x.b)({name:"user",initialState:{campaigns:[],characters:[]},reducers:{setUser:function(e,t){var a=t.payload,n=a.id,r=a.name,l=a.campaigns,i=a.characters;e.id=n,e.name=r,e.campaigns=l,e.characters=i},addCampaign:function(e,t){var a=t.payload;e.campaigns.includes(a)||e.campaigns.push(a)},addCharacter:function(e,t){var a=t.payload;e.characters.includes(a)||e.characters.push(a)}}}),De=Ge.actions,Te=De.setUser,Ne=De.addCampaign,Me=De.addCharacter,Ye=function(e){return e.user.id?e.user:void 0},Fe=function(e){return e.user.campaigns},Be=function(e){return e.user.characters},Ue=Ge.reducer,Qe=a(259),Ze=a(462),Pe=a(463),Ve=a(209),Le=a(74),Je=a(449),We=a(210),_e=a.n(We),ze=a(211),He=a.n(ze),Ke=a(212),Xe=a.n(Ke),qe=a(213),$e=a.n(qe),et=a(214),tt=a.n(et),at=a(215),nt=a.n(at),rt=a(216),lt=a.n(rt),it=a(217),ot=a.n(it),ct=a(218),st=a.n(ct),ut=a(219),dt=a.n(ut),mt=a(220),pt=a.n(mt),ft=a(221),ht=a.n(ft),bt=a(222),gt=a.n(bt),Et=function(e){var t=e.type,a=e.value,n=a.opportunity,r=a.strife,l=a.success,i=a.explosion;return"skill"===t?i?r?st.a:ot.a:l?n?ht.a:r?gt.a:pt.a:n?dt.a:lt.a:r?i?$e.a:l?Xe.a:He.a:l?nt.a:n?tt.a:_e.a},yt=function(e){var t=e.value,a=t.opportunity,n=t.strife,r=t.success,l=t.explosion;return[a&&"Opportunity: ".concat(a),r&&"Success: ".concat(r),l&&"Explosion: ".concat(l),n&&"Strife: ".concat(n)].filter(Boolean).join("; ")||"Blank"},vt=function(e){var t=e.dice;return r.a.createElement(Le.a,{title:yt(t)},r.a.createElement("div",null,r.a.createElement(Je.a,{src:Et(t),alt:yt(t),preview:!1})))},kt=a(178),At=a.n(kt),jt=function(e){var t=e.type,a=e.value,n=a.opportunity,r=a.strife,l=a.success,i=a.explosion;return[t].concat(Object(m.a)([n,r,l,i].map((function(e){return(e||0).toString()})))).join("-")},It=function(e){var t=e.split("-"),a=Object(Ve.a)(t),n=a[0],r=a.slice(1).map((function(e){return parseInt(e)})),l=Object(o.a)(r,4);return{type:n,value:{opportunity:l[0],strife:l[1],success:l[2],explosion:l[3]}}},Ot=[{type:"ring",value:{}},{type:"ring",value:{opportunity:1,strife:1}},{type:"ring",value:{opportunity:1}},{type:"ring",value:{success:1}},{type:"ring",value:{success:1,strife:1}},{type:"ring",value:{explosion:1,strife:1}},{type:"skill",value:{}},{type:"skill",value:{opportunity:1}},{type:"skill",value:{success:1,strife:1}},{type:"skill",value:{success:1}},{type:"skill",value:{explosion:1,strife:1}},{type:"skill",value:{success:1,opportunity:1}},{type:"skill",value:{explosion:1}}],Ct=function(e){var t=e.facets,a=e.button;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=e.type,a=e.value,n=e.disabled,l=jt({type:t,value:a});return r.a.createElement(v.a.Button,{key:l,value:l,disabled:n},r.a.createElement(vt,{dice:{type:t,value:a}}))})),a)},St=function(e){var t=e.initialValue,a=e.onChange,n=e.facets,l=void 0===n?Ot:n,i=e.button;return r.a.createElement(v.a.Group,{onChange:function(e){var t=e.target.value;return a(It(t))},className:At.a.group,defaultValue:jt(t)},r.a.createElement(Ct,{facets:l,button:i}))},wt=function(e){var t=e.value,a=e.onChange,n=e.facets,l=void 0===n?Ot:n;return r.a.createElement(v.a.Group,{onChange:function(e){var t=e.target.value;return a(It(t))},className:At.a.group,value:jt(t)},r.a.createElement(Ct,{facets:l}))},xt=a(227),Rt=a.n(xt),Gt=function(e){var t=e.fields,a=e.labelText,n=e.defaultValue,l=e.buttonText,i=e.errors,o=e.add,c=e.remove,s=e.values,u=void 0===s?[]:s,d=e.facets,m=e.buttonLayout;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement(h.a.Item,{required:!1,key:e.key,label:a},r.a.createElement(h.a.Item,Object.assign({},e,{noStyle:!0}),r.a.createElement(St,{initialValue:u[t]||n,button:r.a.createElement("div",{className:U()("ant-radio-button-wrapper",Rt.a["pseudo-radio"]),onClick:function(){return c(e.name)}},r.a.createElement(Ze.a,{className:"dynamic-delete-button"})),facets:d})))})),r.a.createElement(h.a.Item,m,r.a.createElement(O.a,{type:"dashed",onClick:function(){return o(n)},icon:r.a.createElement(Pe.a,null)},l),r.a.createElement(h.a.ErrorList,{errors:i})))},Dt=p.a.TextArea,Tt=f.a.Panel,Nt={labelCol:{span:8},wrapperCol:{span:16}},Mt={labelCol:{span:0},wrapperCol:{span:24}},Yt=[{required:!0,message:"Please fill this field"}],Ft=function(e){if(e)return e.map((function(e){return{value:e}}))},Bt=function(e){var t=e.onFinish,a=e.values,n=e.onComplete,l=Object(w.c)(Fe),i=Object(w.c)(Be),s=Object(w.b)(),p=h.a.useForm(),A=Object(o.a)(p,1)[0],I=Object(w.c)(Ye);return r.a.createElement(h.a,Object.assign({className:"boxed ".concat(j.a.form)},Nt,{initialValues:a,onFinish:function(e){n&&n(),s(Ne(e.campaign)),s(Me(e.character));var a=e.techniques||[],r=e.misc||[];t(Object(c.a)({},e,{modifiers:[e.modifier,e.compromised&&"compromised",e.void&&"void",e.school].concat(Object(m.a)(a),Object(m.a)(r)).filter(Boolean)}))},scrollToFirstError:!0,form:A,onValuesChange:function(e){Object.keys(e).some((function(e){return["ring","skill","void","channeled"].includes(e)}))&&A.validateFields(["channeled"])}}),!!I&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a.Item,{label:"Campaign",name:"campaign",rules:Yt},r.a.createElement(b.a,{options:Ft(l),placeholder:"The Dead of Winter"})),r.a.createElement(h.a.Item,{label:"Character",name:"character",rules:Yt},r.a.createElement(b.a,{options:Ft(i),placeholder:"Doji Sakura"})),r.a.createElement(h.a.Item,{label:"Description",name:"description",rules:Yt},r.a.createElement(Dt,{placeholder:"Running at the foe! Fire, Fitness, Keen Balance"}))),r.a.createElement(h.a.Item,{label:"TN",name:"tn"},r.a.createElement(g.a,{min:1})),r.a.createElement(E.a,null),r.a.createElement(h.a.Item,{label:"Ring",name:"ring",rules:Yt},r.a.createElement(g.a,{min:1,max:10})),r.a.createElement(h.a.Item,{label:"Skill",name:"skill",rules:Yt},r.a.createElement(g.a,{min:0,max:10})),r.a.createElement(E.a,null),r.a.createElement(f.a,{ghost:!0},r.a.createElement(Tt,{header:"Common modifiers"},r.a.createElement(h.a.Item,{label:"Void for +1 Ring die?",name:"void",valuePropName:"checked"},r.a.createElement(y.a,null)),r.a.createElement(h.a.Item,{label:"Advantage / Disadvantage",name:"modifier"},r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Button,{value:""},"None"),r.a.createElement(v.a.Button,{value:"distinction"},"Distinction"),r.a.createElement(v.a.Button,{value:"adversity"},"Adversity"))),r.a.createElement(h.a.Item,{label:"Compromised?",name:"compromised",valuePropName:"checked"},r.a.createElement(y.a,null)))),r.a.createElement(E.a,null),r.a.createElement(f.a,{ghost:!0},r.a.createElement(Tt,{header:"Schools, techniques, magic\u2026"},r.a.createElement(h.a.Item,{label:"School Ability",name:"school"},r.a.createElement(k.a,{showSearch:!0,allowClear:!0,options:[{value:"deathdealer",label:"Bayushi Deathdealer \u2014 Way of the Scorpion"},{value:"manipulator",label:"Bayushi Manipulator \u2014 Weakness Is My Strength"},{value:"shadow",label:"Ikoma Shadow \u2014 Victory before Honor"},{value:"ishiken",label:"Ishiken Initiate \u2014 Way of the Void"},{value:"sailor",label:"Storm Fleet Sailor \u2014 Sailor\u2019s Fortune"}],optionFilterProp:"label"})),r.a.createElement(h.a.Item,{label:"Techniques",name:"techniques"},r.a.createElement(k.a,{mode:"multiple",placeholder:"Relevant sh\u016bji, kata, etc.",options:[{value:"stirring",label:"Sh\u016bji \u2014 Stirring the Embers"}],optionFilterProp:"label"})),r.a.createElement(h.a.List,{name:"channeled",rules:[{validator:function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===a||void 0===a?void 0:a.length){e.next=2;break}return e.abrupt("return");case 2:if(n=A.getFieldValue("ring"),r=A.getFieldValue("skill"),l=A.getFieldValue("void"),!(a.filter((function(e){return"ring"===e.type})).length>n+(l?1:0))){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("More channeled ring dice than rolled ring dice")));case 7:if(!(a.filter((function(e){return"skill"===e.type})).length>r)){e.next=9;break}return e.abrupt("return",Promise.reject(new Error("More channeled skill dice than rolled skill dice")));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]},(function(e,t,a){var n=t.add,l=t.remove,i=a.errors;return r.a.createElement(Gt,{fields:e,defaultValue:{type:"skill",value:{success:1}},errors:i,labelText:"Channeled Die",buttonText:"Use Channeled Die",add:n,remove:l,buttonLayout:{labelCol:{span:0},wrapperCol:{span:16,offset:8}}})})),r.a.createElement(h.a.Item,{label:"Misc.",name:"misc"},r.a.createElement(k.a,{mode:"multiple",placeholder:"Extra options for unusual cases",options:[{value:"2heavens",label:"Attacking a warding Mirumoto Two-Heavens Adept"}],optionFilterProp:"label"})))),r.a.createElement(E.a,null),r.a.createElement(h.a.Item,Mt,r.a.createElement(Re,{htmlType:"submit"},"Roll")))},Ut=function(e){var t=e.onFinish,a=e.values,l=Object(n.useState)(!1),i=Object(o.a)(l,2),c=i[0],s=i[1],u=Object(w.b)(),d=Object(w.c)(Se);Object(n.useEffect)((function(){c&&window.scrollTo({top:0,behavior:"smooth"})}),[c]);return d?null:r.a.createElement(Qe.a,{transitionName:"fade",transitionEnter:!1,transitionLeave:!0,showProp:"visible",onEnd:function(){return u(de(null))}},r.a.createElement(Bt,{visible:!c,onComplete:function(){s(!0),u(de(Q))},onFinish:t,values:a}))},Qt=a(452),Zt=a(461),Pt=a(235),Vt=a.n(Pt),Lt=Qt.a.Text,Jt=function(e){var t=e.dices,a=e.tn,n=e.extra,l=e.className,i=e.modifiers,o=void 0===i?[]:i,c=t.filter((function(e,t){return"kept"===e.status||n&&n.includes(t)})),s=$(c),u=s.successCount,d=s.opportunityCount,m=s.strifeCount,p=s.blankCount,f=[{type:"Success",count:u,color:a?u>=a?"success":"warning":null,extra:a?" (required: ".concat(a,")"):" (unknown TN)"},{type:"Opportunity",count:d},{type:"Strife",count:m,color:m>0&&"danger"}];if(o.includes("ishiken")&&f.push({type:"Magnitude",count:p}),o.includes("shadow")&&t.some((function(e){var t=e.metadata;return"shadow"===(null===t||void 0===t?void 0:t.source)}))){var h=t.filter((function(e){var t=e.metadata;return"shadow"===(null===t||void 0===t?void 0:t.source)})),b=h.length,g=Math.ceil(b/2),E=Math.min(g,h.filter((function(e){var t=e.value,a=t.success,n=t.explosion;return 0===a&&0===n})).length);f.push({type:"Honor Loss from Ability",count:E,color:E>0&&"danger"})}return r.a.createElement(Zt.b,{className:U()(Vt.a.layout,Object(N.a)({},l,!!l)),grid:{gutter:16,column:3},dataSource:f,renderItem:function(e){var t=e.type,a=e.count,n=e.color,l=e.extra;return r.a.createElement(Zt.b.Item,null,r.a.createElement(Lt,{strong:!0,type:n},"".concat(t,": ").concat(a)),l&&r.a.createElement(Lt,null,l))}})},Wt=a(92),_t=a.n(Wt),zt=function(e){var t=e.dices,a=e.theme,n=e.className;return(null===t||void 0===t?void 0:t.length)?r.a.createElement("div",{className:U()(_t.a.dices,Object(N.a)({},n,!!n))},t.map((function(e,t){var n,l=e.selectable,i=e.selected,o=e.disabled,c=e.toggle,s=e.value;return r.a.createElement("div",{key:t.toString(),className:U()(_t.a.dice,(n={},Object(N.a)(n,_t.a.selectable,l),Object(N.a)(n,_t.a.selected,i),Object(N.a)(n,_t.a.unselectable,o),Object(N.a)(n,_t.a["theme-".concat(a)],!!a),Object(N.a)(n,_t.a.explosion,null===s||void 0===s?void 0:s.explosion),n)),onClick:l?c:void 0},r.a.createElement(vt,{dice:e}))}))):null},Ht=function(e){var t=e.dices,a=e.basePool,n=e.className,l=e.rerollTypes;if(!a||a>t.length)throw new Error("Better than infite loop");return r.a.createElement("div",{className:n},function(e){for(var t=e.dices,a=e.basePool,n=e.rerollTypes,r=[],l=re({dices:t,basePool:a,rerollTypes:n}),i=a+t.filter((function(e){var t=e.metadata;return"addkept"===(null===t||void 0===t?void 0:t.source)})).length;l.length>0;){var o=ee(l.slice(0,i));l=l.slice(i,l.length),i=o.filter((function(e){var t=e.status,a=e.value.explosion;return"kept"===t&&a>0})).length,r.push(o)}return r}({dices:t,basePool:a,rerollTypes:l}).map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t.toString()},t>0&&r.a.createElement(E.a,null),r.a.createElement(zt,{dices:e,theme:"shiny"}))})))},Kt=a(162),Xt=a.n(Kt),qt=Qt.a.Paragraph,$t=function(e){var t=e.dices,a=e.onChange,n=e.compromised;return r.a.createElement(h.a,{onValuesChange:function(e,t){a(t.dices)},initialValues:{dices:t},className:Xt.a["add-kept-form"]},r.a.createElement(h.a.List,{name:"dices"},(function(e,a,l){var i=a.add,o=a.remove,s=l.errors;return r.a.createElement(Gt,{fields:e,defaultValue:{type:"ring",value:{opportunity:1}},errors:s,buttonText:"Add Kept Die",add:i,remove:o,values:t,facets:n?Ot.map((function(e){return e.value.strife>0?Object(c.a)({},e,{disabled:!0}):e})):Ot})})))},ea=function(e){var t=e.dices,a=e.ring,n=e.skill,l=e.onFinish,i=e.tn,o=e.rerollTypes,s=e.addkept,u=e.setAddKept,d=e.modifiers,p=Object(w.c)(we),f=Object(w.b)(),h=d.includes("compromised"),b=X({ring:a,modifiers:d}),g=K({ring:a,skill:n,modifiers:d}),E=t.some((function(e){return"kept"===e.status})),y=h&&t.filter((function(e){return"pending"===e.status})).every((function(e){return e.value.strife})),v=(null===s||void 0===s?void 0:s.length)&&!E;return r.a.createElement("div",{className:Xt.a.layout},r.a.createElement(Ht,{dices:function(){var e=t.map((function(e,t){var a=e.status,n=e.value,r="kept"===a||p.includes(t),l="pending"===a&&(!h||!n.strife)&&(r||E||b>p.length),i="kept"!==a&&("pending"!==a||!l);return Object(c.a)({},e,{selectable:l,selected:r,disabled:i,toggle:function(){return function(e){return p.includes(e)?f(pe(p.filter((function(t){return t!==e})))):f(pe([].concat(Object(m.a)(p),[e])))}(t)}})}));return v?[].concat(Object(m.a)(e),Object(m.a)(s.map((function(e){return Object(c.a)({},e,{status:"pending",metadata:{source:"addkept"},selected:!0,selectable:!1})})))):e}(),basePool:g,rerollTypes:o}),r.a.createElement(qt,null,function(){if(y)return"Being compromised, you cannot keep any die with strife\u2026 Which, in this very specific case, means you cannot keep any die at all.";if(E)return"Select which explosions you wish to keep (if any).";var e=b>1?"You can keep up to ".concat(b," dice (min 1)"):"You must choose one die to keep";return(null===s||void 0===s?void 0:s.length)&&(e+=" in top of your added dice"),e+=".",h?"".concat(e," However, due to being compromised, you cannot keep any die with strife."):e}()),r.a.createElement(Jt,{dices:v?[].concat(Object(m.a)(t),Object(m.a)(s.map((function(e){return Object(c.a)({},e,{status:"kept"})})))):t,tn:i,extra:p,className:Xt.a.figures,modifiers:o}),!E&&r.a.createElement($t,{dices:s,onChange:u,compromised:h}),r.a.createElement(Re,{onClick:function(){E||!(null===s||void 0===s?void 0:s.length)?l(p):l(p,s)},disabled:!(E||y)&&0===p.length},y?"Continue":E?0===p.length?"Don't keep anything else":1===p.length?"Also keep that die":"Also keep these dice":1===p.length?"Keep that die":0===p.length?"Must select at least one die":"Keep these dice"))},ta=a(455),aa=a(44),na=a(179),ra=a.n(na),la=function(e){var t=e.campaign,a=e.character,n=e.description,l=e.tn,i=e.ring,o=e.skill,c=e.modifiers,s=e.player,u=e.channeled,d=e.addkept,m=[c.includes("compromised")&&"Compromised",c.includes("adversity")&&"Adversity",c.includes("distinction")&&"Distinction",c.includes("stirring")&&"Sh\u016bji \u2014 Stirring the Embers",c.includes("deathdealer")&&"Bayushi Deathdealer School Ability",c.includes("manipulator")&&"Bayushi Manipulator School Ability",c.includes("2heavens")&&"Attacking a warding Mirumoto Two-Heavens Adept",c.includes("ruthless")&&"Custom reroll (from NPCs' or other PCs' effects)",c.includes("shadow")&&"Ikoma Shadow School Ability",c.includes("sailor")&&"Storm Fleet Sailor School Ability",c.some(z)&&"Custom reroll",c.includes("ishiken")&&"Ishiken Initiate School Ability",c.some(H)&&"Custom alteration"].filter(Boolean).join(" / ");return r.a.createElement(ta.a,{column:{md:3,sm:1,xs:1},bordered:!0},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ta.a.Item,{label:"Campaign"},r.a.createElement(aa.b,{to:"/rolls?campaign=".concat(t)},t)),r.a.createElement(ta.a.Item,{label:"Character"},r.a.createElement(aa.b,{to:"/rolls?campaign=".concat(t,"&character=").concat(a)},a)),r.a.createElement(ta.a.Item,{label:"Player"},r.a.createElement(aa.b,{to:"/rolls?player=".concat(s.id)},s.name))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ta.a.Item,{label:"Description",span:2},n),r.a.createElement(ta.a.Item,{label:"TN"},l||"?")),r.a.createElement(ta.a.Item,{label:"Ring"},i),r.a.createElement(ta.a.Item,{label:"Skill"},o),r.a.createElement(ta.a.Item,{label:"Voided?"},c.includes("void")?"Yes":"No"),(null===u||void 0===u?void 0:u.length)&&r.a.createElement(ta.a.Item,{label:"Channeled Dice Used",span:3},r.a.createElement("div",{className:ra.a.dices},ee(u).map((function(e,t){return r.a.createElement(vt,{key:t.toString(),dice:e})})))),(null===d||void 0===d?void 0:d.length)&&r.a.createElement(ta.a.Item,{label:"Kept Dice Added",span:3},r.a.createElement("div",{className:ra.a.dices},ee(d).map((function(e,t){return r.a.createElement(vt,{key:t.toString(),dice:e})})))),m&&r.a.createElement(ta.a.Item,{label:"Additional Modifiers",span:3},m))},ia=a(183),oa=a.n(ia),ca=a(458),sa=function(){return r.a.createElement(ca.a,{message:"Something bad happened. Try reloading the page. If things are still broken, please contact administrator through the link at the bottom of the page.",type:"error",banner:!0})},ua=a(82),da=a.n(ua),ma=Qt.a.Title,pa=Qt.a.Paragraph,fa={distinction:"green",adversity:"orange","2heavens":"orange"},ha={distinction:"Distinction",adversity:"Adversity",shadow:"Ikoma Shadow School Ability",deathdealer:"Bayushi Deathdealer School Ability",manipulator:"Bayushi Manipulator School Ability",ishiken:"Ishiken Initiate School Ability","2heavens":"Enemy Mirumoto Two-Heavens Adept School Ability",ruthless:"Custom reroll (from NPCs' or other PCs' effects)",sailor:"Storm Fleet Sailor School Ability"},ba={distinction:"No dice were rerolled",adversity:"No dice with a success or an explosion","2heavens":"No dice with a success or an explosion"},ga=function(e){var t=e.dices,a=e.basePool,n=e.rerollType,l=e.rerollTypes;if(("deathdealer"===n||"manipulator"===n)&&l.includes("distinction"))return null;var i,o=fa[n]||"magenta",s=z(i=n)?"Custom reroll":H(i)?"Custom alteration":ha[i];if(!t.some((function(e){return te(e,n)})))return r.a.createElement("div",{className:da.a.layout},r.a.createElement(ma,{level:4,className:da.a.title},s),r.a.createElement(pa,{className:da.a.empty},ba[n]||"Ability not used"));var u=l.indexOf(n),d=l.filter((function(e,t){return t<u}));return r.a.createElement("div",{className:da.a.layout},r.a.createElement(ma,{level:4,className:da.a.title},s),r.a.createElement("div",{className:da.a.container},r.a.createElement(zt,{dices:(u<=0?t.slice(0,a):ne({dices:t,rerollType:l[u-1],previousRerollTypes:d,basePool:a})).map((function(e){return Object(c.a)({},e,{selected:te(e,n)})})),theme:o}),r.a.createElement("div",{className:da.a["arrow-right"]},"\u21e8"),r.a.createElement("div",{className:da.a["arrow-down"]},"\u21e9"),r.a.createElement(zt,{dices:ne({dices:t,rerollType:n,previousRerollTypes:d,basePool:a}).map((function(e){return ae(e,n)?Object(c.a)({},e,{selected:!0}):e})),theme:o})))},Ea=function(e){var t=e.dices,a=e.basePool,n=e.rerollTypes;return 0===n.length?null:r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement(ga,{key:e,dices:t,basePool:a,rerollType:e,rerollTypes:n})})))},ya=function(e){var t=e.dices,a=e.basePool,n=e.rerollTypes;return r.a.createElement(Ht,{className:"boxed",basePool:a,rerollTypes:n,dices:t.map((function(e){var t="kept"===e.status;return Object(c.a)({},e,{disabled:!t,selected:t})}))})},va=a(264),ka=a(154),Aa=function(e){var t=e.id,a=e.description,n=e.tn,l=e.dices,i=e.modifiers,o=void 0===i?[]:i;if(!t)return r.a.createElement(O.a,{disabled:!0},"Copy as BBCode");var c=l.filter((function(e){return"kept"===e.status})),s=$(c),u=s.successCount,d=s.opportunityCount,m=s.strifeCount,p=s.blankCount,f="Success: [b]".concat(u,"[/b] / Opportunity: [b]").concat(d,"[/b] / Strife: [b]").concat(m,"[/b]");o.includes("ishiken")&&(f+=" / Magnitude: [b]".concat(p,"[/b]"));var h='[url="'.concat(window.location.origin,"/rolls/").concat(t,'"]').concat(a,"[/url] | TN: ").concat(n||"?"," | ").concat(f);return r.a.createElement(ka.CopyToClipboard,{text:h,onCopy:function(){return va.b.success("Copied to clipboard!")}},r.a.createElement(O.a,null,"Copy as BBCode"))},ja=a(163),Ia=a.n(ja),Oa=function(e){var t=e.id;if(!t)return r.a.createElement(O.a,{disabled:!0},"Copy link");var a="".concat(window.location.origin,"/rolls/").concat(t);return r.a.createElement(ka.CopyToClipboard,{text:a,onCopy:function(){return va.b.success("Copied to clipboard!")}},r.a.createElement(O.a,null,"Copy link"))},Ca=a(242),Sa=a.n(Ca),wa=function(e){var t=e.children;return r.a.createElement("div",{className:Sa.a.buttons},t)},xa=function(e){var t=e.dices,a=e.tn,n=e.description,l=e.id,i=e.button,o=e.basePool,c=e.rerollTypes;return r.a.createElement("div",{className:Ia.a.layout},r.a.createElement("div",{className:Ia.a.container},r.a.createElement(zt,{dices:ee(re({dices:t,basePool:o,rerollTypes:c}).filter((function(e){return"kept"===e.status}))),className:Ia.a.dices}),r.a.createElement(Jt,{dices:t,tn:a,modifiers:c}),r.a.createElement(wa,null,r.a.createElement(Oa,{id:l}),r.a.createElement(Aa,{id:l,dices:t,tn:a,description:n,modifiers:c}),i)))},Ra=a(459),Ga=Qt.a.Link,Da=Qt.a.Paragraph,Ta=function(e){var t=e.className;return r.a.createElement(Ra.a,null,r.a.createElement(ca.a,{className:t,showIcon:!0,closable:!0,message:"Mono no aware",description:r.a.createElement(r.a.Fragment,null,r.a.createElement(Da,null,"You are not logged in. While you can totally use the roller as a guest, please take note that"," ",r.a.createElement("strong",null,"any roll made won't be persisted"),"."),r.a.createElement(Da,null,"You will need to ",r.a.createElement(Ga,{href:"/login"},"log in")," first if you wish to keep and share your results.")),type:"warning"}))},Na=a(448),Ma=Qt.a.Paragraph,Ya=function(e){var t=e.dices,a=e.text,n=e.footer,l=e.theme;return r.a.createElement(Na.a,{bordered:!1},r.a.createElement("div",{className:"boxed"},a&&r.a.createElement(Ma,null,a),r.a.createElement(zt,{dices:t,theme:l}),n&&r.a.createElement("div",null,n)))},Fa=function(e){var t=e.dices,a=e.onFinish,l=e.modifiers,i=Object(n.useState)([]),s=Object(o.a)(i,2),u=s[0],d=s[1],p=l.includes("stirring")?3:2,f=l.includes("deathdealer")||l.includes("manipulator");return r.a.createElement(Ya,{text:f?"Thanks to your Distinction and your School Ability, you can select up to ".concat(p," plus your school rank dice to be rerolled."):"Thanks to your Distinction, you can select up to ".concat(p," dice to be rerolled."),dices:t.map((function(e,t){var a=u.includes(t),n=a||u.length<p||f;return Object(c.a)({},e,{selectable:n,selected:a,disabled:!n,toggle:function(){return function(e){return u.includes(e)?d(u.filter((function(t){return t!==e}))):d([].concat(Object(m.a)(u),[e]))}(t)}})})),footer:r.a.createElement(Re,{onClick:function(){return a(u)}},0===u.length?"Don't reroll anything":1===u.length?"Reroll that die":"Reroll these dice"),theme:"green"})},Ba=function(e){var t=e.dices,a=e.onFinish,l=Object(n.useState)([]),i=Object(o.a)(l,2),s=i[0],u=i[1],d=t.filter((function(e){var t=e.value;return t.success||t.explosion})),p=Math.min(2,d.length);return r.a.createElement(Ya,{text:"Due to your Adversity, you must select two success dice (or as much as possible if you don't have two) that will be rerolled.",dices:t.map((function(e,t){var a=s.includes(t),n=(e.value.success||e.value.explosion)&&(a||s.length<2);return Object(c.a)({},e,{selectable:n,selected:a,disabled:!n,toggle:function(){return function(e){return s.includes(e)?u(s.filter((function(t){return t!==e}))):u([].concat(Object(m.a)(s),[e]))}(t)}})})),footer:r.a.createElement(Re,{disabled:s.length<p,onClick:function(){return a(s)}},"Continue"),theme:"orange"})},Ua=function(e){var t=e.dices,a=e.onFinish,l=e.text,i=e.basePool,s=e.rerollTypes,u=Object(n.useState)([]),d=Object(o.a)(u,2),p=d[0],f=d[1];return r.a.createElement(Ya,{text:l,dices:re({dices:t.map((function(e,t){var a=p.includes(t);return Object(c.a)({},e,{selectable:!0,selected:a,disabled:!1,toggle:function(){return function(e){return p.includes(e)?f(p.filter((function(t){return t!==e}))):f([].concat(Object(m.a)(p),[e]))}(t)}})})),basePool:i,rerollTypes:s}),footer:r.a.createElement(Re,{onClick:function(){return a(p)}},0===p.length?"Skip":1===p.length?"Reroll that die":"Reroll these dice"),theme:"magenta"})},Qa=a(244),Za=a.n(Qa),Pa=Qt.a.Text,Va=Qt.a.Paragraph,La=function(e){var t=e.value,a=t.opportunity,n=t.strife,r=t.success,l=t.explosion;return 0===a&&0===n&&0===r&&0===l},Ja={ring:[{opportunity:1,strife:1},{opportunity:1},{success:1,strife:1},{success:1},{explosion:1,strife:1}],skill:[{opportunity:1},{success:1,strife:1},{success:1},{explosion:1,strife:1},{success:1,opportunity:1},{explosion:1}]},Wa=function(e){var t=e.dices,a=e.onFinish,l=e.basePool,i=e.rerollTypes,s=Object(n.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],f=d.map((function(e){return e.position})),h=d.length>0&&t.filter((function(e,t){return f.includes(t)})).some(La),b=d.length>0&&!h,g=r.a.createElement(Va,null,"Your School Ability allows you to receive a number of fatigue up to your school rank to either:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Pa,null,"Choose a number of dice with non-blank results equal to the fatigue you received , and alter each to a blank result.")),r.a.createElement("li",null,r.a.createElement(Pa,null,"Choose a number of dice with blank results equal to the fatigue you received, and alter each to a non-blank result of your choice."))));return r.a.createElement(Ya,{text:g,dices:re({dices:t.map((function(e,a){var n=f.includes(a),r=!h&&!b||h&&La(e)||b&&!La(e);return Object(c.a)({},e,{selectable:r,selected:n,disabled:!r,toggle:function(){return function(e){if(d.some((function(t){return t.position===e})))return p(d.filter((function(t){return t.position!==e})));var a=t[e];return p([].concat(Object(m.a)(d),[{position:e,value:La(a)?{success:1}:{}}]))}(a)}})})),basePool:l,rerollTypes:i}),footer:r.a.createElement(r.a.Fragment,null,h&&r.a.createElement("div",{className:Za.a.alterators},r.a.createElement(Pa,null,"Choose your desired non-blank result".concat(d.length>1?"s":"")),d.map((function(e){var a=e.position,n=e.value,l=t[a].type;return r.a.createElement(wt,{key:a.toString(),value:{type:l,value:n},onChange:function(e){var t=e.value,n=Object(m.a)(d),r=n.findIndex((function(e){return e.position===a}));n[r].value=t,p(n)},facets:Ja[l].map((function(e){return{type:l,value:e}}))})}))),r.a.createElement(Re,{onClick:function(){return a(d)}},b?"Pull":h?"Push":"Skip")),theme:"magenta"})},_a=function(e){var t=e.dices,a=e.onFinish,l=e.basePool,i=e.rerollTypes,s=Object(n.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],f=Math.min(1,t.filter((function(e){var t=e.value,a=t.success,n=t.explosion;return a>0||n>0})).length);return r.a.createElement(Ya,{text:"You must reroll dice containing success up to the attacked Mirumoto's school rank.",dices:re({dices:t.map((function(e,t){var a=d.includes(t),n=e.value.success>0||e.value.explosion>0;return Object(c.a)({},e,{selectable:n,selected:a,disabled:!n,toggle:function(){return function(e){return d.includes(e)?p(d.filter((function(t){return t!==e}))):p([].concat(Object(m.a)(d),[e]))}(t)}})})),basePool:l,rerollTypes:i}),footer:r.a.createElement(Re,{disabled:d.length<f,onClick:function(){return a(d)}},"Continue"),theme:"orange"})},za=Qt.a.Paragraph,Ha=function(e){var t=e.dices,a=e.onFinish,n=e.basePool,l=e.rerollTypes;return e.compromised?r.a.createElement(Na.a,{bordered:!1},r.a.createElement("div",{className:"boxed"},r.a.createElement(za,null,"You may not use your School Ability as you are compromised."),r.a.createElement(Re,{onClick:function(){return a([])}},"Continue"))):r.a.createElement(Ua,{text:"You may receive a number of strife up to your school rank to reroll that many rolled dice.",dices:t,onFinish:a,basePool:n,rerollTypes:l})},Ka=a(245),Xa=a.n(Ka),qa={ring:[{},{opportunity:1,strife:1},{opportunity:1},{success:1,strife:1},{success:1},{explosion:1,strife:1}],skill:[{},{opportunity:1},{success:1,strife:1},{success:1},{explosion:1,strife:1},{success:1,opportunity:1},{explosion:1}]},$a=function(e){var t=e.text,a=e.dices,l=e.onFinish,i=e.basePool,s=e.rerollTypes,u=Object(n.useState)([]),d=Object(o.a)(u,2),p=d[0],f=d[1],h=p.map((function(e){return e.position}));return r.a.createElement(Ya,{text:t,dices:re({dices:a.map((function(e,t){var a=h.includes(t);return Object(c.a)({},e,{selectable:!0,selected:a,disabled:!1,toggle:function(){return function(e){return p.some((function(t){return t.position===e}))?f(p.filter((function(t){return t.position!==e}))):f([].concat(Object(m.a)(p),[{position:e,value:{success:1}}]))}(t)}})})),basePool:i,rerollTypes:s}),footer:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Xa.a.list},p.map((function(e){var t=e.position,n=e.value,l=a[t].type;return r.a.createElement(wt,{key:t.toString(),value:{type:l,value:n},onChange:function(e){var a=e.value,n=Object(m.a)(p),r=n.findIndex((function(e){return e.position===t}));n[r].value=a,f(n)},facets:qa[l].map((function(e){return{type:l,value:e}}))})}))),r.a.createElement(Re,{onClick:function(){return l(p)}},"Continue")),theme:"magenta"})},en=function(e){var t=e.dices,a=e.onFinish,n=e.basePool,l=e.rerollTypes,i=e.addReroll,o=e.addAlteration;return r.a.createElement(Ya,{text:"Your rolled dice at the moment are as follow.",dices:re({dices:t,basePool:n,rerollTypes:l}),footer:r.a.createElement(wa,null,r.a.createElement(O.a,{disabled:!i,onClick:i},"Apply ".concat(l.filter((function(e){return!q(e)})).length>0?"another":"a"," reroll")),r.a.createElement(O.a,{disabled:!o,onClick:o},"Apply ".concat(l.filter((function(e){return q(e)})).length>0?"another":"an"," alteration")),r.a.createElement(Re,{onClick:a},"Continue"))})},tn=function(e){var t=e.roll,a=e.dispatch,n=t.dices,l=t.modifiers,i=t.metadata,o=l.includes("compromised"),c=K(t),s=(null===i||void 0===i?void 0:i.rerolls)||[],u=function(e){return l.includes(e)&&!s.includes(e)};if(u("distinction"))return r.a.createElement(Fa,{dices:n,onFinish:function(e){return a(ve(t,e,"distinction"))},modifiers:l});if(u("adversity"))return r.a.createElement(Ba,{dices:n,onFinish:function(e){return a(ve(t,e,"adversity"))}});var d=function(e){var l=e.name,i=e.text;return r.a.createElement(Ua,{dices:n,onFinish:function(e){return a(ve(t,e,l))},text:i,basePool:c,rerollTypes:s})};if(u("deathdealer"))return r.a.createElement(d,{name:"deathdealer",text:"Thanks to your School Ability, you may reroll dice up to your school rank."});if(u("manipulator"))return r.a.createElement(d,{name:"manipulator",text:"Thanks to your School Ability, you may reroll dice up to your school rank."});if(u("2heavens"))return r.a.createElement(_a,{dices:n,onFinish:function(e){return a(ve(t,e,"2heavens"))},basePool:c,rerollTypes:s});if(u("ruthless"))return r.a.createElement(d,{name:"ruthless",text:"Custom reroll: Select the dice you have to reroll."});if(u("shadow"))return r.a.createElement(d,{name:"shadow",text:"Thanks to your School Ability, you can stake honor up to your school rank to re-roll a number of dice equal to twice the amount of honor staked."});if(u("sailor"))return r.a.createElement(Ha,{dices:n,onFinish:function(e){return a(ve(t,e,"sailor"))},basePool:c,rerollTypes:s,compromised:o});var m=l.find((function(e){return z(e)&&u(e)}));if(m)return r.a.createElement(d,{name:m,text:"Custom reroll: Select the dice you want/have to reroll."});if(u("ishiken"))return r.a.createElement(Wa,{dices:n,onFinish:function(e){return a(ke(t,e,"ishiken"))},basePool:c,rerollTypes:s});var p=l.find((function(e){return H(e)&&u(e)}));if(p)return r.a.createElement($a,{dices:n,onFinish:function(e){return a(ke(t,e,p))},basePool:c,rerollTypes:s,text:"Custom alteration: Change the result as you want/have to."});return r.a.createElement(en,{dices:n,onFinish:function(){return a(he())},basePool:c,rerollTypes:s,addReroll:l.length<100&&function(){return a(Ae(t,["ruleless".concat(l.length.toString().padStart(2,"0"))]))},addAlteration:l.length<100&&function(){return a(Ae(t,["reasonless".concat(l.length.toString().padStart(2,"0"))]))}})},an=function(e){var t=e.roll,a=e.dispatch,n=t.dices,l=t.metadata,i=K(t),o=(null===l||void 0===l?void 0:l.rerolls)||[];return r.a.createElement(r.a.Fragment,null,o.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea,{dices:n,basePool:i,rerollTypes:o}),r.a.createElement(E.a,null)),r.a.createElement(tn,{roll:t,dispatch:a}))},nn=f.a.Panel,rn=function(e){var t=e.children,a=Object(w.c)(Ye),n=Object(w.c)(Oe);return r.a.createElement(r.a.Fragment,null,!a&&r.a.createElement(Ta,{className:oa.a.alert}),r.a.createElement(J,{current:n,className:oa.a.steps}),r.a.createElement(r.a.Fragment,null,t))},ln=function(e){var t=e.save,a=Object(w.c)(je),l=Object(w.c)(Ye),i=Object(w.c)(Oe),s=Object(w.c)(Ce),u=Object(w.b)();Object(n.useEffect)((function(){t&&u&&(u(ce(Object(c.a)({},t,{},t.roll.parameters))),u(me({id:t.id,dices:t.roll.dices,metadata:t.roll.metadata,player:t.user})))}),[t,u]);var d=Object(n.useState)([Q]),m=Object(o.a)(d,2),p=m[0],h=m[1];Object(n.useEffect)((function(){h(i!==Z?[i]:["modify"])}),[i]);var b=a.dices,g=a.tn,E=a.modifiers,y=a.ring,v=a.skill,k=a.error,A=a.id,j=a.description,I=a.metadata,O=a.addkept,C=K(a),S=(null===I||void 0===I?void 0:I.rerolls)||[];if(k)return r.a.createElement(sa,null);var x=function(e){return i!==e&&(e===V?i!==V:e===P?![P,V].includes(i):e===Z&&(i===Q||!E.some(_)))},R=function(e){var t=e.name;return x(t)?null:t===V?r.a.createElement(xa,{dices:b,tn:g,button:r.a.createElement(Re,{onClick:function(){return u(ue())}},"New roll"),id:A,description:j,basePool:C,rerollTypes:S}):t===P?i===P?r.a.createElement(ea,{dices:b,onFinish:function(e,t){return u(function(e,t,a){return function(n){n(se(!0));var r=function(e){n(ge(e))},l=function(){n(Ee(!0))},i=e.id;if(i){var o=function(){return T({uri:"/ffg/l5r/rolls/".concat(i,"/keep"),body:{positions:t},success:r,error:l})};return(null===a||void 0===a?void 0:a.length)?void T({uri:"/ffg/l5r/rolls/".concat(i,"/parameters"),body:{addkept:a},success:o,error:l}):void o()}var c=e.tn,s=e.ring,u=e.skill,d=e.modifiers,m=e.dices,p=e.metadata,f=e.addkept;G({uri:"/public/ffg/l5r/rolls/keep",body:{roll:{parameters:{tn:c,ring:s,skill:u,modifiers:d,addkept:f},dices:m,metadata:p},positions:t},success:r,error:l})}}(a,e,t))},tn:g,ring:y,skill:v,rerollTypes:S,addkept:O,setAddKept:function(e){return u(fe(e))},modifiers:E}):r.a.createElement(ya,{dices:b,basePool:C,rerollTypes:S}):t===Z?i===Z?r.a.createElement(an,{roll:a,dispatch:u}):r.a.createElement(Ea,{dices:b,basePool:C,rerollTypes:S}):null};return r.a.createElement(rn,null,r.a.createElement(f.a,{activeKey:p,onChange:h},r.a.createElement(nn,{header:"Declare",key:"declare",collapsible:i===Q?"disabled":"header"},i===Q?r.a.createElement(Ut,{onFinish:function(e){return u(function(e,t){return function(a){a(se(!0)),a(ce(e));var n=function(){a(Ee(!0))},r=e.tn,l=e.ring,i=e.skill,o=e.modifiers,s=e.campaign,u=e.character,d=e.description,m=e.channeled,p=e.addkept;t?T({uri:"/ffg/l5r/rolls/create",body:{tn:r,ring:l,skill:i,modifiers:o,campaign:s,character:u,description:d,channeled:m,addkept:p},success:function(e){a(me(Object(c.a)({},e,{player:t})))},error:n}):G({uri:"/public/ffg/l5r/rolls/create",body:{tn:r,ring:l,skill:i,modifiers:o,channeled:m,addkept:p},success:function(e){a(ge(e))},error:n})}}(Object(c.a)({},a,{},e),l))},values:a}):r.a.createElement(la,s)),r.a.createElement(nn,{header:"Modify",key:"modify",collapsible:x(Z)||i===Z?"disabled":"header"},r.a.createElement(R,{name:Z})),r.a.createElement(nn,{header:"Keep",key:"keep",collapsible:x(P)||i===P?"disabled":"header"},r.a.createElement(R,{name:P})),r.a.createElement(nn,{header:"Resolve",key:"resolve",collapsible:x(V)||i===V?"disabled":"header"},r.a.createElement(R,{name:V}))))},on=a(446),cn=a(71),sn=a(246),un=a.n(sn),dn=a(120),mn=a.n(dn),pn=a(46),fn=on.a.Header,hn=on.a.Content,bn=on.a.Footer,gn=function(e){var t=e.children,a=Object(w.c)(Ye),l=Object(pn.g)(),i=Object(n.useState)(),c=Object(o.a)(i,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){u(function(e){var t=e.pathname,n=e.search;return"/"===t?"new_roll":"/rolls"!==t||n?"/rolls"===t&&a&&n==="?player=".concat(a.id)?"my_rolls":null:"all_rolls"}(l))}),[l,a]),r.a.createElement(on.a,{className:mn.a.layout},r.a.createElement(fn,null,r.a.createElement(cn.a,{theme:"dark",mode:"horizontal",selectedKeys:[s],onSelect:function(e){var t=e.key;return u(t)}},r.a.createElement(cn.a.Item,{className:mn.a.logo,key:"home"},r.a.createElement(aa.b,{to:"/"},r.a.createElement("img",{alt:"Logo",src:un.a}))),r.a.createElement(cn.a.Item,{key:"new_roll"},r.a.createElement(aa.b,{to:"/"},"Roll")),r.a.createElement(cn.a.Item,{key:"all_rolls"},r.a.createElement(aa.b,{to:"/rolls"},"All rolls")),a&&r.a.createElement(cn.a.Item,{key:"my_rolls"},r.a.createElement(aa.b,{to:"/rolls?player=".concat(a.id)},"My rolls")),r.a.createElement(cn.a.Item,{className:mn.a.login},a?r.a.createElement("a",{href:"/user/profile"},a.name):r.a.createElement("a",{href:"/login"},"Login")))),r.a.createElement(hn,null,t),r.a.createElement(bn,{className:mn.a.footer},"Sakkaku Project / 2020 / ",r.a.createElement("a",{href:"mailto:contact.sakkaku@gmail.com"},"Issue? Suggestion?")))},En=a(447),yn=a(156),vn=a(248),kn=a.n(vn),An=a(249),jn=a.n(An),In=a(250),On=a.n(In),Cn=a(251),Sn=a.n(Cn),wn=function(e){var t=e.opportunity,a=e.success,n=e.strife;return r.a.createElement("span",{className:Sn.a.result},r.a.createElement("img",{src:On.a,title:"Success",alt:"Success"}),r.a.createElement("span",null,": ".concat(a,", ")),r.a.createElement("img",{src:kn.a,title:"Opportunity",alt:"Opportunity"}),r.a.createElement("span",null,": ".concat(t,", ")),r.a.createElement("img",{src:jn.a,title:"Strife",alt:"Strife"}),r.a.createElement("span",null,": ".concat(n)))},xn=a(93),Rn=a.n(xn),Gn=a(164),Dn=a.n(Gn),Tn=a(153),Nn=a(184),Mn=a.n(Nn),Yn=function(){return r.a.createElement("div",{className:Mn.a.container},r.a.createElement(Tn.a,{className:Mn.a.loader,size:"large"}))},Fn=Qt.a.Text,Bn=[{title:"Date",dataIndex:"date",key:"date",render:function(e){return r.a.createElement(Fn,null,r.a.createElement("span",null,new Date(e).toLocaleDateString()),r.a.createElement("span",{className:Dn.a.time}," ",new Date(e).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"})))}},{title:"Campaign",dataIndex:"campaign",key:"campaign",render:function(e){return r.a.createElement(aa.b,{to:"/rolls?".concat(Rn.a.stringify({campaign:e}))},e)}},{title:"Character",dataIndex:"character",key:"character",render:function(e){var t=e.character,a=e.campaign;return r.a.createElement(aa.b,{to:"/rolls?".concat(Rn.a.stringify({campaign:a,character:t}))},t)}},{title:"Player",dataIndex:"player",key:"player",render:function(e){return e?r.a.createElement(aa.b,{to:"/rolls?".concat(Rn.a.stringify({player:e.id}))},e.name):r.a.createElement(Fn,{delete:!0},"Deleted account")},responsive:["md"]},{title:"Description",dataIndex:"description",key:"description",responsive:["lg"]},{title:"Result",dataIndex:"result",key:"result",width:200,render:function(e){return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(wn,e):r.a.createElement(Fn,{type:"secondary"},"Ongoing\u2026"))},responsive:["md"]},{title:"Success?",dataIndex:"success",key:"success",align:"center",render:function(e){var t=e.result,a=e.tn;return t?a?t.success>=a?r.a.createElement(Fn,{type:"success"},"Yes"):r.a.createElement(Fn,{type:"danger"},"No"):r.a.createElement(Fn,null,"?"):r.a.createElement(Fn,{type:"secondary"},"TBD")},responsive:["md"]},{title:"",dataIndex:"see_more",key:"see_more",render:function(e){var t=e.id;return r.a.createElement(aa.b,{title:"See more",to:"/rolls/".concat(t),className:Dn.a["see-more"]},"\u27a5")}}],Un=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],m=Object(n.useState)(),p=Object(o.a)(m,2),f=p[0],h=p[1],b=Object(pn.g)(),g=Object(pn.f)(),E=Rn.a.parse(b.search),y=parseInt(E.page)||1,v="/public/ffg/l5r/rolls?".concat(Rn.a.stringify(Object(c.a)({},E,{page:y})));if(Object(n.useEffect)((function(){l(!0),D({uri:v,success:function(e){h(e),l(!1)},error:function(e){d(!0),l(!1)}})}),[v]),a)return r.a.createElement(Yn,null);if(u)return r.a.createElement(sa,null);if(!f)return null;var k=f.items.map((function(e){var t=e.id,a=e.created_at,n=e.campaign,r=e.character,l=e.user,i=e.description,o=e.result;return{key:t,date:a,campaign:n,character:{campaign:n,character:r},player:l,description:i,result:o,success:{result:o,tn:e.roll.parameters.tn},see_more:{id:t}}})),A=function(e){return"/rolls?".concat(Rn.a.stringify(Object(c.a)({},Rn.a.parse(window.location.search),{page:e})))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(En.a,{columns:Bn,dataSource:k,pagination:!1}),r.a.createElement(yn.a,{className:Dn.a.pagination,simple:!0,pageSize:f.per_page,current:y,total:f.total,itemRender:function(e,t,a){return"prev"===t?r.a.createElement(aa.b,{to:A(y-1)},"<"):"next"===t?r.a.createElement(aa.b,{to:A(y+1)},">"):a},onChange:function(e){g.push(A(e))}}))},Qn=f.a.Panel,Zn=function(e){var t,a,n=e.dices,l=e.button,i=e.intent,o=e.context,c=e.player,s=i.tn,u=o.id,d=o.description,m=K(i),p=(null===o||void 0===o||null===(t=o.roll)||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.rerolls)||[];return r.a.createElement(f.a,{defaultActiveKey:["declare","resolve"]},r.a.createElement(Qn,{header:"Declare",key:"declare"},r.a.createElement(la,Object.assign({},o,i,{player:c}))),r.a.createElement(Qn,{header:"Modify",key:"modify",disabled:0===p.length},r.a.createElement(Ea,{dices:n,basePool:m,rerollTypes:p})),r.a.createElement(Qn,{header:"Keep",key:"keep"},r.a.createElement(ya,{dices:n,basePool:m,rerollTypes:p})),r.a.createElement(Qn,{header:"Resolve",key:"resolve",collapsible:"disabled"},r.a.createElement(xa,{dices:n,tn:s,button:l,id:u,description:d,basePool:m,rerollTypes:p})))},Pn=a(456),Vn=a(185),Ln=a.n(Vn),Jn=Qt.a.Text,Wn=function(e){var t=e.campaign,a=e.character,n=e.description;return r.a.createElement(Pn.a,{className:Ln.a.container},r.a.createElement(Pn.a.Item,null,r.a.createElement(aa.b,{to:"/rolls"},"All rolls")),r.a.createElement(Pn.a.Item,null,r.a.createElement(aa.b,{to:"/rolls?campaign=".concat(t)},t)),r.a.createElement(Pn.a.Item,null,r.a.createElement(aa.b,{to:"/rolls?campaign=".concat(t,"&character=").concat(a)},a)),r.a.createElement(Pn.a.Item,{className:Ln.a.description},r.a.createElement(Jn,{ellipsis:!0},n)))},_n=function(e){var t=Object(pn.f)();return r.a.createElement(O.a,Object.assign({onClick:function(){t.length>2?t.goBack():t.push("/rolls")}},e),"Go back")},zn=function(){var e=Object(pn.h)().id,t=Object(w.c)(Ye),a=Object(n.useState)(!0),l=Object(o.a)(a,2),i=l[0],c=l[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(),f=Object(o.a)(p,2),h=f[0],b=f[1];if(Object(n.useEffect)((function(){c(!0),D({uri:"/public/ffg/l5r/rolls/".concat(e),success:function(e){b(e),c(!1)},error:function(e){c(!1),m(!0)}})}),[e]),i)return r.a.createElement(Yn,null);if(d)return r.a.createElement(sa,null);if(!h)return null;var g=h.roll,E=h.user,y=h.result,v=g.dices,k=g.parameters,A=h.campaign,j=h.character,I=h.description;return!y&&t&&E&&t.id===E.id?r.a.createElement(ln,{save:h}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Wn,{campaign:A,character:j,description:I}),y?r.a.createElement(Zn,{dices:v,button:r.a.createElement(_n,null),intent:k,context:h,player:E}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Na.a,{bordered:!1},r.a.createElement(la,Object.assign({player:E},h,k))),r.a.createElement(Ya,{text:"Check in progress. Current dice pool:",dices:ee(v.filter((function(e){var t=e.status;return["pending","kept"].includes(t)}))),footer:r.a.createElement(_n,{style:{float:"right"}})})))},Hn=function(){var e=Object(w.b)();return Object(n.useEffect)((function(){D({uri:"/user",success:function(t){e(Te(t))},error:function(e){}})}),[e]),r.a.createElement(aa.a,null,r.a.createElement(gn,null,r.a.createElement(pn.c,null,r.a.createElement(pn.a,{path:"/rolls/:id"},r.a.createElement(zn,null)),r.a.createElement(pn.a,{path:"/rolls"},r.a.createElement(Un,null)),r.a.createElement(pn.a,{path:"/"},r.a.createElement(ln,null)))))},Kn=Object(x.a)({reducer:{roll:xe,user:Ue}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w.a,{store:Kn},r.a.createElement(Hn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},82:function(e,t,a){e.exports={layout:"Reroll_layout__1ZSoQ",container:"Reroll_container__22Gl5",title:"Reroll_title__1pQuN","arrow-right":"Reroll_arrow-right__30zxm","arrow-down":"Reroll_arrow-down__2N_iE",empty:"Reroll_empty__2DGjW"}},92:function(e,t,a){e.exports={dices:"Dices_dices__1Cijf",dice:"Dices_dice__cqowQ",selectable:"Dices_selectable__2UH3q",selected:"Dices_selected__1Gb1I",unselectable:"Dices_unselectable__KQSGp","theme-orange":"Dices_theme-orange__1IzWT","theme-green":"Dices_theme-green__2UAjn","theme-magenta":"Dices_theme-magenta__QRRBw","theme-gray":"Dices_theme-gray__k0B1L","theme-shiny":"Dices_theme-shiny__5M1Hc",explosion:"Dices_explosion__3t8yW"}}},[[266,1,2]]]);
//# sourceMappingURL=main.7ddee69d.chunk.js.map